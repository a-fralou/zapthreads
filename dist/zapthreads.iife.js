var ZapThreads=function(){"use strict";var e=Object.defineProperty,t=(t,n,r)=>(((t,n,r)=>{n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r})(t,"symbol"!=typeof n?n+"":n,r),r);const n=Symbol("solid-proxy"),r=Symbol("solid-track"),i={equals:(e,t)=>e===t};let o=T;const s=1,u=2,c={owned:null,cleanups:null,context:null,owner:null};var l=null;let a,f=null,d=null,h=null,p=null,g=0;function m(e,t){const n=d,r=l,i=0===e.length,o=i?c:{owned:null,cleanups:null,context:null,owner:void 0===t?r:t},s=i?e:()=>e((()=>E((()=>R(o)))));l=o,d=null;try{return F(s,!0)}finally{d=n,l=r}}function y(e,t){const n={value:e,observers:null,observerSlots:null,comparator:(t=t?Object.assign({},i,t):i).equals||void 0};return[z.bind(n),e=>("function"==typeof e&&(e=e(n.value)),B(n,e))]}function b(e,t,n){C(I(e,t,!1,s))}function w(e,t,n){o=O;const r=I(e,t,!1,s),i=a&&$(l,a.id);i&&(r.suspense=i),n&&n.render||(r.user=!0),p?p.push(r):C(r)}function v(e,t,n){n=n?Object.assign({},i,n):i;const r=I(e,t,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,C(r),z.bind(r)}function x(e){return F(e,!1)}function E(e){if(null===d)return e();const t=d;d=null;try{return e()}finally{d=t}}function k(e){return null===l||(null===l.cleanups?l.cleanups=[e]:l.cleanups.push(e)),e}function S(){return d}function A(e){const t=v(e),n=v((()=>j(t())));return n.toArray=()=>{const e=n();return Array.isArray(e)?e:null!=e?[e]:[]},n}function z(){if(this.sources&&this.state)if(this.state===s)C(this);else{const e=h;h=null,F((()=>L(this)),!1),h=e}if(d){const e=this.observers?this.observers.length:0;d.sources?(d.sources.push(this),d.sourceSlots.push(e)):(d.sources=[this],d.sourceSlots=[e]),this.observers?(this.observers.push(d),this.observerSlots.push(d.sources.length-1)):(this.observers=[d],this.observerSlots=[d.sources.length-1])}return this.value}function B(e,t,n){let r=e.value;return e.comparator&&e.comparator(r,t)||(e.value=t,e.observers&&e.observers.length&&F((()=>{for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t],r=f&&f.running;r&&f.disposed.has(n),(r?n.tState:n.state)||(n.pure?h.push(n):p.push(n),n.observers&&P(n)),r||(n.state=s)}if(h.length>1e6)throw h=[],new Error}),!1)),t}function C(e){if(!e.fn)return;R(e);const t=l,n=d,r=g;d=l=e,function(e,t,n){let r;try{r=e.fn(t)}catch(i){return e.pure&&(e.state=s,e.owned&&e.owned.forEach(R),e.owned=null),e.updatedAt=n+1,D(i)}(!e.updatedAt||e.updatedAt<=n)&&(null!=e.updatedAt&&"observers"in e?B(e,r):e.value=r,e.updatedAt=n)}(e,e.value,r),d=n,l=t}function I(e,t,n,r=s,i){const o={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:l,context:null,pure:n};return null===l||l!==c&&(l.owned?l.owned.push(o):l.owned=[o]),o}function _(e){if(0===e.state)return;if(e.state===u)return L(e);if(e.suspense&&E(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<g);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if((e=t[n]).state===s)C(e);else if(e.state===u){const n=h;h=null,F((()=>L(e,t[0])),!1),h=n}}function F(e,t){if(h)return e();let n=!1;t||(h=[]),p?n=!0:p=[],g++;try{const t=e();return function(e){h&&(T(h),h=null);if(e)return;const t=p;p=null,t.length&&F((()=>o(t)),!1)}(n),t}catch(r){n||(p=null),h=null,D(r)}}function T(e){for(let t=0;t<e.length;t++)_(e[t])}function O(e){let t,n=0;for(t=0;t<e.length;t++){const r=e[t];r.user?e[n++]=r:_(r)}for(t=0;t<n;t++)_(e[t])}function L(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const r=e.sources[n];if(r.sources){const e=r.state;e===s?r!==t&&(!r.updatedAt||r.updatedAt<g)&&_(r):e===u&&L(r,t)}}}function P(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=u,n.pure?h.push(n):p.push(n),n.observers&&P(n))}}function R(e){let t;if(e.sources)for(;e.sources.length;){const t=e.sources.pop(),n=e.sourceSlots.pop(),r=t.observers;if(r&&r.length){const e=r.pop(),i=t.observerSlots.pop();n<r.length&&(e.sourceSlots[i]=n,r[n]=e,t.observerSlots[n]=i)}}if(e.owned){for(t=e.owned.length-1;t>=0;t--)R(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0,e.context=null}function D(e){throw e}function $(e,t){return e?e.context&&void 0!==e.context[t]?e.context[t]:$(e.owner,t):void 0}function j(e){if("function"==typeof e&&!e.length)return j(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const r=j(e[n]);Array.isArray(r)?t.push.apply(t,r):t.push(r)}return t}return e}function N(e,t){return function(t){let n;return b((()=>n=E((()=>(l.context={[e]:t.value},A((()=>t.children)))))),void 0),n}}const q=Symbol("fallback");function U(e){for(let t=0;t<e.length;t++)e[t]()}function H(e,t){return E((()=>e(t||{})))}const M=e=>`Stale read from <${e}>.`;function V(e){const t="fallback"in e&&{fallback:()=>e.fallback};return v(function(e,t,n={}){let i,o=[],s=[],u=[],c=[],l=0;return k((()=>U(u))),()=>{const a=e()||[];return a[r],E((()=>{if(0===a.length)return 0!==l&&(U(u),u=[],o=[],s=[],l=0,c=[]),n.fallback&&(o=[q],s[0]=m((e=>(u[0]=e,n.fallback()))),l=1),s;for(o[0]===q&&(u[0](),u=[],o=[],s=[],l=0),i=0;i<a.length;i++)i<o.length&&o[i]!==a[i]?c[i]((()=>a[i])):i>=o.length&&(s[i]=m(f));for(;i<o.length;i++)u[i]();return l=c.length=u.length=a.length,o=a.slice(0),s=s.slice(0,l)}));function f(e){u[i]=e;const[n,r]=y(a[i]);return c[i]=r,t(n,i)}}}((()=>e.each),e.children,t||void 0))}function W(e){const t=e.keyed,n=v((()=>e.when),void 0,{equals:(e,n)=>t?e===n:!e==!n});return v((()=>{const r=n();if(r){const i=e.children;return"function"==typeof i&&i.length>0?E((()=>i(t?r:()=>{if(!E(n))throw M("Show");return e.when}))):i}return e.fallback}),void 0,void 0)}const Z="_$DX_DELEGATE";function K(e,t,n){let r;const i=()=>{const t=document.createElement("template");return t.innerHTML=e,n?t.content.firstChild.firstChild:t.content.firstChild},o=t?()=>E((()=>document.importNode(r||(r=i()),!0))):()=>(r||(r=i())).cloneNode(!0);return o.cloneNode=o,o}function Y(e,t=window.document){const n=t[Z]||(t[Z]=new Set);for(let r=0,i=e.length;r<i;r++){const i=e[r];n.has(i)||(n.add(i),t.addEventListener(i,J))}}function G(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function Q(e,t,n,r){if(void 0===n||r||(r=[]),"function"!=typeof t)return X(e,t,r,n);b((r=>X(e,t(),r,n)),r)}function J(e){const t=`$$${e.type}`;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get:()=>n||document});n;){const r=n[t];if(r&&!n.disabled){const i=n[`${t}Data`];if(void 0!==i?r.call(n,i,e):r.call(n,e),e.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function X(e,t,n,r,i){for(;"function"==typeof n;)n=n();if(t===n)return n;const o=typeof t,s=void 0!==r;if(e=s&&n[0]&&n[0].parentNode||e,"string"===o||"number"===o)if("number"===o&&(t=t.toString()),s){let i=n[0];i&&3===i.nodeType?i.data=t:i=document.createTextNode(t),n=ne(e,n,r,i)}else n=""!==n&&"string"==typeof n?e.firstChild.data=t:e.textContent=t;else if(null==t||"boolean"===o)n=ne(e,n,r);else{if("function"===o)return b((()=>{let i=t();for(;"function"==typeof i;)i=i();n=X(e,i,n,r)})),()=>n;if(Array.isArray(t)){const o=[],u=n&&Array.isArray(n);if(ee(o,t,n,i))return b((()=>n=X(e,o,n,r,!0))),()=>n;if(0===o.length){if(n=ne(e,n,r),s)return n}else u?0===n.length?te(e,o,r):function(e,t,n){let r=n.length,i=t.length,o=r,s=0,u=0,c=t[i-1].nextSibling,l=null;for(;s<i||u<o;)if(t[s]!==n[u]){for(;t[i-1]===n[o-1];)i--,o--;if(i===s){const t=o<r?u?n[u-1].nextSibling:n[o-u]:c;for(;u<o;)e.insertBefore(n[u++],t)}else if(o===u)for(;s<i;)l&&l.has(t[s])||t[s].remove(),s++;else if(t[s]===n[o-1]&&n[u]===t[i-1]){const r=t[--i].nextSibling;e.insertBefore(n[u++],t[s++].nextSibling),e.insertBefore(n[--o],r),t[i]=n[o]}else{if(!l){l=new Map;let e=u;for(;e<o;)l.set(n[e],e++)}const r=l.get(t[s]);if(null!=r)if(u<r&&r<o){let c,a=s,f=1;for(;++a<i&&a<o&&null!=(c=l.get(t[a]))&&c===r+f;)f++;if(f>r-u){const i=t[s];for(;u<r;)e.insertBefore(n[u++],i)}else e.replaceChild(n[u++],t[s++])}else s++;else t[s++].remove()}}else s++,u++}(e,n,o):(n&&ne(e),te(e,o));n=o}else if(t.nodeType){if(Array.isArray(n)){if(s)return n=ne(e,n,r,t);ne(e,n,null,t)}else null!=n&&""!==n&&e.firstChild?e.replaceChild(t,e.firstChild):e.appendChild(t);n=t}else console.warn("Unrecognized value. Skipped inserting",t)}return n}function ee(e,t,n,r){let i=!1;for(let o=0,s=t.length;o<s;o++){let s,u=t[o],c=n&&n[o];if(null==u||!0===u||!1===u);else if("object"==(s=typeof u)&&u.nodeType)e.push(u);else if(Array.isArray(u))i=ee(e,u,c)||i;else if("function"===s)if(r){for(;"function"==typeof u;)u=u();i=ee(e,Array.isArray(u)?u:[u],Array.isArray(c)?c:[c])||i}else e.push(u),i=!0;else{const t=String(u);c&&3===c.nodeType&&c.data===t?e.push(c):e.push(document.createTextNode(t))}}return i}function te(e,t,n=null){for(let r=0,i=t.length;r<i;r++)e.insertBefore(t[r],n)}function ne(e,t,n,r){if(void 0===n)return e.textContent="";const i=r||document.createTextNode("");if(t.length){let r=!1;for(let o=t.length-1;o>=0;o--){const s=t[o];if(i!==s){const t=s.parentNode===e;r||o?t&&s.remove():t?e.replaceChild(i,s):e.insertBefore(i,n)}else r=!0}}else e.insertBefore(i,n);return[i]}var re=(e,t)=>{let n;const r=()=>clearTimeout(n);l&&k(r);return Object.assign(((...i)=>{void 0!==n&&r(),n=setTimeout((()=>e(...i)),t)}),{clear:r})};function ie(e){let t=0,n=!1;const[r,i]=y(void 0,{equals:!1}),o=e((()=>{n=!0,i()}));return()=>(n||(o(),r()),n?(n=!!t,!0):(S()&&(t++,k((()=>t--))),!1))}function oe(e){return Object.keys(e).reduce(((t,n)=>{const r=e[n];var i;return t[n]=Object.assign({},r),ce(r.value)&&(i=r.value,"[object Function]"!==Object.prototype.toString.call(i))&&!Array.isArray(r.value)&&(t[n].value=Object.assign({},r.value)),Array.isArray(r.value)&&(t[n].value=r.value.slice(0)),t}),{})}function se(e){if(e)try{return JSON.parse(e)}catch(t){return e}}function ue(e,t,n){if(null==n||!1===n)return e.removeAttribute(t);let r=JSON.stringify(n);e.__updating[t]=!0,"true"===r&&(r=""),e.setAttribute(t,r),Promise.resolve().then((()=>delete e.__updating[t]))}function ce(e){return null!=e&&("object"==typeof e||"function"==typeof e)}let le;function ae(e,t){const n=Object.keys(t);return class extends e{static get observedAttributes(){return n.map((e=>t[e].attribute))}constructor(){super(),this.__initialized=!1,this.__released=!1,this.__releaseCallbacks=[],this.__propertyChangedCallbacks=[],this.__updating={},this.props={}}connectedCallback(){if(this.__initialized)return;this.__releaseCallbacks=[],this.__propertyChangedCallbacks=[],this.__updating={},this.props=function(e,t){const n=oe(t);return Object.keys(t).forEach((t=>{const r=n[t],i=e.getAttribute(r.attribute),o=e[t];i&&(r.value=r.parse?se(i):i),null!=o&&(r.value=Array.isArray(o)?o.slice(0):o),r.reflect&&ue(e,r.attribute,r.value),Object.defineProperty(e,t,{get:()=>r.value,set(e){const n=r.value;r.value=e,r.reflect&&ue(this,r.attribute,r.value);for(let r=0,i=this.__propertyChangedCallbacks.length;r<i;r++)this.__propertyChangedCallbacks[r](t,e,n)},enumerable:!0,configurable:!0})})),n}(this,t);const e=function(e){return Object.keys(e).reduce(((t,n)=>(t[n]=e[n].value,t)),{})}(this.props),n=this.Component,r=le;try{le=this,this.__initialized=!0,"function"==typeof(i=n)&&0===i.toString().indexOf("class")?new n(e,{element:this}):n(e,{element:this})}finally{le=r}var i}async disconnectedCallback(){if(await Promise.resolve(),this.isConnected)return;this.__propertyChangedCallbacks.length=0;let e=null;for(;e=this.__releaseCallbacks.pop();)e(this);delete this.__initialized,this.__released=!0}attributeChangedCallback(e,n,r){if(this.__initialized&&!this.__updating[e]&&(e=this.lookupProp(e))in t){if(null==r&&!this[e])return;this[e]=t[e].parse?se(r):r}}lookupProp(e){if(t)return n.find((n=>e===n||e===t[n].attribute))}get renderRoot(){return this.shadowRoot||this.attachShadow({mode:"open"})}addReleaseCallback(e){this.__releaseCallbacks.push(e)}addPropertyChangedCallback(e){this.__propertyChangedCallbacks.push(e)}}}function fe(e,t={},n={}){const{BaseElement:r=HTMLElement,extension:i}=n;return n=>{if(!e)throw new Error("tag is required to register a Component");let o=customElements.get(e);return o?(o.prototype.Component=n,o):(o=ae(r,function(e){return e?Object.keys(e).reduce(((t,n)=>{const r=e[n];return t[n]=ce(r)&&"value"in r?r:{value:r},t[n].attribute||(t[n].attribute=n.replace(/\.?([A-Z]+)/g,((e,t)=>"-"+t.toLowerCase())).replace("_","-").replace(/^-/,"")),t[n].parse="parse"in t[n]?t[n].parse:"string"!=typeof t[n].value,t}),{}):{}}(t)),o.prototype.Component=n,o.prototype.registeredTag=e,customElements.define(e,o,i),o)}}function de(e){return(t,n)=>{const{element:r}=n;return m((i=>{const o=function(e){const t=Object.keys(e),n={};for(let r=0;r<t.length;r++){const[i,o]=y(e[t[r]]);Object.defineProperty(n,t[r],{get:i,set(e){o((()=>e))}})}return n}(t);r.addPropertyChangedCallback(((e,t)=>o[e]=t)),r.addReleaseCallback((()=>{r.renderRoot.textContent="",i()}));const s=e(o,n);return Q(r.renderRoot,s)}),function(e){if(e.assignedSlot&&e.assignedSlot._$owner)return e.assignedSlot._$owner;let t=e.parentNode;for(;t&&!t._$owner&&(!t.assignedSlot||!t.assignedSlot._$owner);)t=t.parentNode;return t&&t.assignedSlot?t.assignedSlot._$owner:e._$owner}(r))}}const he=document.createElement("i");function pe(e){const t="&"+e+";";he.innerHTML=t;const n=he.textContent;return(59!==n.charCodeAt(n.length-1)||"semi"===e)&&(n!==t&&n)}function ge(e,t,n,r){const i=e.length;let o,s=0;if(t=t<0?-t>i?0:i+t:t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(t,0),e.splice(...o),s+=1e4,t+=1e4}function me(e,t){return e.length>0?(ge(e,e.length,0,t),e):t}const ye={}.hasOwnProperty;function be(e,t){let n;for(n in t){const r=(ye.call(e,n)?e[n]:void 0)||(e[n]={}),i=t[n];let o;if(i)for(o in i){ye.call(r,o)||(r[o]=[]);const e=i[o];we(r[o],Array.isArray(e)?e:e?[e]:[])}}}function we(e,t){let n=-1;const r=[];for(;++n<t.length;)("after"===t[n].add?e:r).push(t[n]);ge(e,0,0,r)}function ve(e,t){let n;for(n in t){const r=(ye.call(e,n)?e[n]:void 0)||(e[n]={}),i=t[n];let o;if(i)for(o in i)r[o]=i[o]}}const xe={'"':"quot","&":"amp","<":"lt",">":"gt"};function Ee(e){return e.replace(/["&<>]/g,(function(e){return"&"+xe[e]+";"}))}function ke(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Se=Re(/[A-Za-z]/),Ae=Re(/[\dA-Za-z]/),ze=Re(/[#-'*+\--9=?A-Z^-~]/);function Be(e){return null!==e&&(e<32||127===e)}const Ce=Re(/\d/),Ie=Re(/[\dA-Fa-f]/),_e=Re(/[!-/:-@[-`{-~]/);function Fe(e){return null!==e&&e<-2}function Te(e){return null!==e&&(e<0||32===e)}function Oe(e){return-2===e||-1===e||32===e}const Le=Re(/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/),Pe=Re(/\s/);function Re(e){return function(t){return null!==t&&e.test(String.fromCharCode(t))}}function De(e,t){const n=Ee(function(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const o=e.charCodeAt(n);let s="";if(37===o&&Ae(e.charCodeAt(n+1))&&Ae(e.charCodeAt(n+2)))i=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(s=String.fromCharCode(o));else if(o>55295&&o<57344){const t=e.charCodeAt(n+1);o<56320&&t>56319&&t<57344?(s=String.fromCharCode(o,t),i=1):s="�"}else s=String.fromCharCode(o);s&&(t.push(e.slice(r,n),encodeURIComponent(s)),r=n+i+1,s=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}(e||""));if(!t)return n;const r=n.indexOf(":"),i=n.indexOf("?"),o=n.indexOf("#"),s=n.indexOf("/");return r<0||s>-1&&r>s||i>-1&&r>i||o>-1&&r>o||t.test(n.slice(0,r))?n:""}const $e={}.hasOwnProperty,je=/^(https?|ircs?|mailto|xmpp)$/i,Ne=/^https?$/i;function qe(e){const t=e||{};let n=!0;const r={},i=[[]],o=[],s=[],u=function(e){const t={};let n=-1;for(;++n<e.length;)ve(t,e[n]);return t}([{enter:{blockQuote:function(){s.push(!1),w(),m("<blockquote>")},codeFenced:function(){w(),m("<pre><code"),d("fencesCount",0)},codeFencedFenceInfo:p,codeFencedFenceMeta:p,codeIndented:function(){w(),m("<pre><code>")},codeText:function(){d("inCodeText",!0),m("<code>")},content:function(){d("slurpAllLineEndings",!0)},definition:function(){p(),o.push({})},definitionDestinationString:function(){p(),d("ignoreEncode",!0)},definitionLabelString:p,definitionTitleString:p,emphasis:function(){m("<em>")},htmlFlow:function(){w(),B()},htmlText:B,image:function(){o.push({image:!0}),n=void 0},label:p,link:function(){o.push({})},listItemMarker:function(){h("expectFirstItem")?m(">"):x();w(),m("<li>"),d("expectFirstItem"),d("lastWasTag")},listItemValue:function(e){if(h("expectFirstItem")){const t=Number.parseInt(this.sliceSerialize(e),10);1!==t&&m(' start="'+v(String(t))+'"')}},listOrdered:function(e){s.push(!e._loose),w(),m("<ol"),d("expectFirstItem",!0)},listUnordered:function(e){s.push(!e._loose),w(),m("<ul"),d("expectFirstItem",!0)},paragraph:function(){s[s.length-1]||(w(),m("<p>"));d("slurpAllLineEndings")},reference:p,resource:function(){p(),o[o.length-1].destination=""},resourceDestinationString:function(){p(),d("ignoreEncode",!0)},resourceTitleString:p,setextHeading:function(){p(),d("slurpAllLineEndings")},strong:function(){m("<strong>")}},exit:{atxHeading:function(){m("</h"+h("headingRank")+">"),d("headingRank")},atxHeadingSequence:function(e){if(h("headingRank"))return;d("headingRank",this.sliceSerialize(e).length),w(),m("<h"+h("headingRank")+">")},autolinkEmail:function(e){const t=this.sliceSerialize(e);m('<a href="'+De("mailto:"+t)+'">'),y(v(t)),m("</a>")},autolinkProtocol:function(e){const n=this.sliceSerialize(e);m('<a href="'+De(n,t.allowDangerousProtocol?void 0:je)+'">'),y(v(n)),m("</a>")},blockQuote:function(){s.pop(),w(),m("</blockquote>"),d("slurpAllLineEndings")},characterEscapeValue:S,characterReferenceMarkerHexadecimal:C,characterReferenceMarkerNumeric:C,characterReferenceValue:function(e){let t=this.sliceSerialize(e);t=h("characterReferenceType")?function(e,t){const n=Number.parseInt(e,t);return n<9||11===n||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||65535==(65535&n)||65534==(65535&n)||n>1114111?"�":String.fromCharCode(n)}(t,"characterReferenceMarkerNumeric"===h("characterReferenceType")?10:16):pe(t),y(v(t)),d("characterReferenceType")},codeFenced:E,codeFencedFence:function(){const e=h("fencesCount")||0;e||(m(">"),d("slurpOneLineEnding",!0));d("fencesCount",e+1)},codeFencedFenceInfo:function(){m(' class="language-'+g()+'"')},codeFencedFenceMeta:g,codeFlowValue:function(e){y(v(this.sliceSerialize(e))),d("flowCodeSeenData",!0)},codeIndented:E,codeText:function(){d("inCodeText"),m("</code>")},codeTextData:S,data:S,definition:function(){const e=ke(o[o.length-1].labelId);g(),$e.call(r,e)||(r[e]=o[o.length-1]);o.pop()},definitionDestinationString:function(){o[o.length-1].destination=g(),d("ignoreEncode")},definitionLabelString:function(e){g(),o[o.length-1].labelId=this.sliceSerialize(e)},definitionTitleString:function(){o[o.length-1].title=g()},emphasis:function(){m("</em>")},hardBreakEscape:A,hardBreakTrailing:A,htmlFlow:z,htmlFlowData:S,htmlText:z,htmlTextData:S,image:k,label:function(){o[o.length-1].label=g()},labelText:function(e){o[o.length-1].labelId=this.sliceSerialize(e)},lineEnding:function(e){if(h("slurpAllLineEndings"))return;if(h("slurpOneLineEnding"))return void d("slurpOneLineEnding");if(h("inCodeText"))return void y(" ");y(v(this.sliceSerialize(e)))},link:k,listOrdered:function(){x(),s.pop(),b(),m("</ol>")},listUnordered:function(){x(),s.pop(),b(),m("</ul>")},paragraph:function(){s[s.length-1]?d("slurpAllLineEndings",!0):m("</p>")},reference:g,referenceString:function(e){o[o.length-1].referenceId=this.sliceSerialize(e)},resource:g,resourceDestinationString:function(){o[o.length-1].destination=g(),d("ignoreEncode")},resourceTitleString:function(){o[o.length-1].title=g()},setextHeading:function(){const e=g();w(),m("<h"+h("headingRank")+">"),y(e),m("</h"+h("headingRank")+">"),d("slurpAllLineEndings"),d("headingRank")},setextHeadingLineSequence:function(e){d("headingRank",61===this.sliceSerialize(e).charCodeAt(0)?1:2)},setextHeadingText:function(){d("slurpAllLineEndings",!0)},strong:function(){m("</strong>")},thematicBreak:function(){w(),m("<hr />")}}}].concat(t.htmlExtensions||[])),c={tightStack:s,definitions:r},l={lineEndingIfNeeded:w,options:t,encode:v,raw:y,tag:m,buffer:p,resume:g,setData:d,getData:h};let a=t.defaultLineEnding;return function(e){let t=-1,n=0;const r=[];let o=[],s=[];for(;++t<e.length;)a||"lineEnding"!==e[t][1].type&&"lineEndingBlank"!==e[t][1].type||(a=e[t][2].sliceSerialize(e[t][1])),"listOrdered"!==e[t][1].type&&"listUnordered"!==e[t][1].type||("enter"===e[t][0]?r.push(t):f(e.slice(r.pop(),t))),"definition"===e[t][1].type&&("enter"===e[t][0]?(s=me(s,e.slice(n,t)),n=t):(o=me(o,e.slice(n,t+1)),n=t+1));o=me(o,s),o=me(o,e.slice(n)),t=-1;const c=o;u.enter.null&&u.enter.null.call(l);for(;++t<e.length;){const e=u[c[t][0]],n=c[t][1].type,r=e[n];$e.call(e,n)&&r&&r.call(Object.assign({sliceSerialize:c[t][2].sliceSerialize},l),c[t][1])}u.exit.null&&u.exit.null.call(l);return i[0].join("")};function f(e){const t=e.length;let n,r=0,i=0,o=!1;for(;++r<t;){const t=e[r];if(t[1]._container)n=void 0,"enter"===t[0]?i++:i--;else switch(t[1].type){case"listItemPrefix":"exit"===t[0]&&(n=!0);break;case"linePrefix":break;case"lineEndingBlank":"enter"!==t[0]||i||(n?n=void 0:o=!0);break;default:n=void 0}}e[0][1]._loose=o}function d(e,t){c[e]=t}function h(e){return c[e]}function p(){i.push([])}function g(){return i.pop().join("")}function m(e){n&&(d("lastWasTag",!0),i[i.length-1].push(e))}function y(e){d("lastWasTag"),i[i.length-1].push(e)}function b(){y(a||"\n")}function w(){const e=i[i.length-1],t=e[e.length-1],n=t?t.charCodeAt(t.length-1):null;10!==n&&13!==n&&null!==n&&b()}function v(e){return h("ignoreEncode")?e:Ee(e)}function x(){h("lastWasTag")&&!h("slurpAllLineEndings")&&w(),m("</li>"),d("slurpAllLineEndings")}function E(){const e=h("fencesCount");void 0!==e&&e<2&&c.tightStack.length>0&&!h("lastWasTag")&&b(),h("flowCodeSeenData")&&w(),m("</code></pre>"),void 0!==e&&e<2&&w(),d("flowCodeSeenData"),d("fencesCount"),d("slurpOneLineEnding")}function k(){let e=o.length-1;const i=o[e],s=i.referenceId||i.labelId,u=void 0===i.destination?r[ke(s)]:i;for(n=!0;e--;)if(o[e].image){n=void 0;break}i.image?(m('<img src="'+De(u.destination,t.allowDangerousProtocol?void 0:Ne)+'" alt="'),y(i.label),m('"')):m('<a href="'+De(u.destination,t.allowDangerousProtocol?void 0:je)+'"'),m(u.title?' title="'+u.title+'"':""),i.image?m(" />"):(m(">"),y(i.label),m("</a>")),o.pop()}function S(e){y(v(this.sliceSerialize(e)))}function A(){m("<br />")}function z(){d("ignoreEncode")}function B(){t.allowDangerousHtml&&d("ignoreEncode",!0)}function C(e){d("characterReferenceType",e.type)}}function Ue(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let o=0;return function(r){if(Oe(r))return e.enter(n),s(r);return t(r)};function s(r){return Oe(r)&&o++<i?(e.consume(r),s):(e.exit(n),t(r))}}const He={tokenize:function(e){const t=e.attempt(this.parser.constructs.contentInitial,(function(n){if(null===n)return void e.consume(n);return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),Ue(e,t,"linePrefix")}),(function(t){return e.enter("paragraph"),r(t)}));let n;return t;function r(t){const r=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=r),n=r,i(t)}function i(t){return null===t?(e.exit("chunkText"),e.exit("paragraph"),void e.consume(t)):Fe(t)?(e.consume(t),e.exit("chunkText"),r):(e.consume(t),i)}}};const Me={tokenize:function(e){const t=this,n=[];let r,i,o,s=0;return u;function u(r){if(s<n.length){const i=n[s];return t.containerState=i[1],e.attempt(i[0].continuation,c,l)(r)}return l(r)}function c(e){if(s++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,r&&b();const n=t.events.length;let i,o=n;for(;o--;)if("exit"===t.events[o][0]&&"chunkFlow"===t.events[o][1].type){i=t.events[o][1].end;break}y(s);let u=n;for(;u<t.events.length;)t.events[u][1].end=Object.assign({},i),u++;return ge(t.events,o+1,0,t.events.slice(n)),t.events.length=u,l(e)}return u(e)}function l(i){if(s===n.length){if(!r)return d(i);if(r.currentConstruct&&r.currentConstruct.concrete)return p(i);t.interrupt=Boolean(r.currentConstruct&&!r._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(Ve,a,f)(i)}function a(e){return r&&b(),y(s),d(e)}function f(e){return t.parser.lazy[t.now().line]=s!==n.length,o=t.now().offset,p(e)}function d(n){return t.containerState={},e.attempt(Ve,h,p)(n)}function h(e){return s++,n.push([t.currentConstruct,t.containerState]),d(e)}function p(n){return null===n?(r&&b(),y(0),void e.consume(n)):(r=r||t.parser.flow(t.now()),e.enter("chunkFlow",{contentType:"flow",previous:i,_tokenizer:r}),g(n))}function g(n){return null===n?(m(e.exit("chunkFlow"),!0),y(0),void e.consume(n)):Fe(n)?(e.consume(n),m(e.exit("chunkFlow")),s=0,t.interrupt=void 0,u):(e.consume(n),g)}function m(e,n){const u=t.sliceStream(e);if(n&&u.push(null),e.previous=i,i&&(i.next=e),i=e,r.defineSkip(e.start),r.write(u),t.parser.lazy[e.start.line]){let e=r.events.length;for(;e--;)if(r.events[e][1].start.offset<o&&(!r.events[e][1].end||r.events[e][1].end.offset>o))return;const n=t.events.length;let i,u,c=n;for(;c--;)if("exit"===t.events[c][0]&&"chunkFlow"===t.events[c][1].type){if(i){u=t.events[c][1].end;break}i=!0}for(y(s),e=n;e<t.events.length;)t.events[e][1].end=Object.assign({},u),e++;ge(t.events,c+1,0,t.events.slice(n)),t.events.length=e}}function y(r){let i=n.length;for(;i-- >r;){const r=n[i];t.containerState=r[1],r[0].exit.call(t,e)}n.length=r}function b(){r.write([null]),i=void 0,r=void 0,t.containerState._closeFlow=void 0}}},Ve={tokenize:function(e,t,n){return Ue(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}};function We(e){return null===e||Te(e)||Pe(e)?1:Le(e)?2:void 0}function Ze(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const o=e[i].resolveAll;o&&!r.includes(o)&&(t=o(t,n),r.push(o))}return t}const Ke={name:"attention",tokenize:function(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=We(r);let o;return function(t){return o=t,e.enter("attentionSequence"),s(t)};function s(u){if(u===o)return e.consume(u),s;const c=e.exit("attentionSequence"),l=We(u),a=!l||2===l&&i||n.includes(u),f=!i||2===i&&l||n.includes(r);return c._open=Boolean(42===o?a:a&&(i||!f)),c._close=Boolean(42===o?f:f&&(l||!a)),t(u)}},resolveAll:function(e,t){let n,r,i,o,s,u,c,l,a=-1;for(;++a<e.length;)if("enter"===e[a][0]&&"attentionSequence"===e[a][1].type&&e[a][1]._close)for(n=a;n--;)if("exit"===e[n][0]&&"attentionSequence"===e[n][1].type&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[a][1]).charCodeAt(0)){if((e[n][1]._close||e[a][1]._open)&&(e[a][1].end.offset-e[a][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[a][1].end.offset-e[a][1].start.offset)%3))continue;u=e[n][1].end.offset-e[n][1].start.offset>1&&e[a][1].end.offset-e[a][1].start.offset>1?2:1;const f=Object.assign({},e[n][1].end),d=Object.assign({},e[a][1].start);Ye(f,-u),Ye(d,u),o={type:u>1?"strongSequence":"emphasisSequence",start:f,end:Object.assign({},e[n][1].end)},s={type:u>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[a][1].start),end:d},i={type:u>1?"strongText":"emphasisText",start:Object.assign({},e[n][1].end),end:Object.assign({},e[a][1].start)},r={type:u>1?"strong":"emphasis",start:Object.assign({},o.start),end:Object.assign({},s.end)},e[n][1].end=Object.assign({},o.start),e[a][1].start=Object.assign({},s.end),c=[],e[n][1].end.offset-e[n][1].start.offset&&(c=me(c,[["enter",e[n][1],t],["exit",e[n][1],t]])),c=me(c,[["enter",r,t],["enter",o,t],["exit",o,t],["enter",i,t]]),c=me(c,Ze(t.parser.constructs.insideSpan.null,e.slice(n+1,a),t)),c=me(c,[["exit",i,t],["enter",s,t],["exit",s,t],["exit",r,t]]),e[a][1].end.offset-e[a][1].start.offset?(l=2,c=me(c,[["enter",e[a][1],t],["exit",e[a][1],t]])):l=0,ge(e,n-1,a-n+3,c),a=n+c.length-l-2;break}a=-1;for(;++a<e.length;)"attentionSequence"===e[a][1].type&&(e[a][1].type="data");return e}};function Ye(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const Ge={name:"autolink",tokenize:function(e,t,n){let r=0;return function(t){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(t),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),i};function i(t){return Se(t)?(e.consume(t),o):c(t)}function o(e){return 43===e||45===e||46===e||Ae(e)?(r=1,s(e)):c(e)}function s(t){return 58===t?(e.consume(t),r=0,u):(43===t||45===t||46===t||Ae(t))&&r++<32?(e.consume(t),s):(r=0,c(t))}function u(r){return 62===r?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(r),e.exit("autolinkMarker"),e.exit("autolink"),t):null===r||32===r||60===r||Be(r)?n(r):(e.consume(r),u)}function c(t){return 64===t?(e.consume(t),l):ze(t)?(e.consume(t),c):n(t)}function l(e){return Ae(e)?a(e):n(e)}function a(n){return 46===n?(e.consume(n),r=0,l):62===n?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(n),e.exit("autolinkMarker"),e.exit("autolink"),t):f(n)}function f(t){if((45===t||Ae(t))&&r++<63){const n=45===t?f:a;return e.consume(t),n}return n(t)}}};const Qe={tokenize:function(e,t,n){return function(t){return Oe(t)?Ue(e,r,"linePrefix")(t):r(t)};function r(e){return null===e||Fe(e)?t(e):n(e)}},partial:!0};const Je={name:"blockQuote",tokenize:function(e,t,n){const r=this;return function(t){if(62===t){const n=r.containerState;return n.open||(e.enter("blockQuote",{_container:!0}),n.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(t),e.exit("blockQuoteMarker"),i}return n(t)};function i(n){return Oe(n)?(e.enter("blockQuotePrefixWhitespace"),e.consume(n),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(n))}},continuation:{tokenize:function(e,t,n){const r=this;return function(t){if(Oe(t))return Ue(e,i,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t);return i(t)};function i(r){return e.attempt(Je,t,n)(r)}}},exit:function(e){e.exit("blockQuote")}};const Xe={name:"characterEscape",tokenize:function(e,t,n){return function(t){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(t),e.exit("escapeMarker"),r};function r(r){return _e(r)?(e.enter("characterEscapeValue"),e.consume(r),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(r)}}};const et={name:"characterReference",tokenize:function(e,t,n){const r=this;let i,o,s=0;return function(t){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(t),e.exit("characterReferenceMarker"),u};function u(t){return 35===t?(e.enter("characterReferenceMarkerNumeric"),e.consume(t),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),i=31,o=Ae,l(t))}function c(t){return 88===t||120===t?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(t),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),i=6,o=Ie,l):(e.enter("characterReferenceValue"),i=7,o=Ce,l(t))}function l(u){if(59===u&&s){const i=e.exit("characterReferenceValue");return o!==Ae||pe(r.sliceSerialize(i))?(e.enter("characterReferenceMarker"),e.consume(u),e.exit("characterReferenceMarker"),e.exit("characterReference"),t):n(u)}return o(u)&&s++<i?(e.consume(u),l):n(u)}}};const tt={tokenize:function(e,t,n){const r=this;return function(t){if(null===t)return n(t);return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),i};function i(e){return r.parser.lazy[r.now().line]?n(e):t(e)}},partial:!0},nt={name:"codeFenced",tokenize:function(e,t,n){const r=this,i={tokenize:function(e,t,n){let i=0;return s;function s(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),c}function c(t){return e.enter("codeFencedFence"),Oe(t)?Ue(e,l,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):l(t)}function l(t){return t===o?(e.enter("codeFencedFenceSequence"),a(t)):n(t)}function a(t){return t===o?(i++,e.consume(t),a):i>=u?(e.exit("codeFencedFenceSequence"),Oe(t)?Ue(e,f,"whitespace")(t):f(t)):n(t)}function f(r){return null===r||Fe(r)?(e.exit("codeFencedFence"),t(r)):n(r)}},partial:!0};let o,s=0,u=0;return function(t){return function(t){const n=r.events[r.events.length-1];return s=n&&"linePrefix"===n[1].type?n[2].sliceSerialize(n[1],!0).length:0,o=t,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),c(t)}(t)};function c(t){return t===o?(u++,e.consume(t),c):u<3?n(t):(e.exit("codeFencedFenceSequence"),Oe(t)?Ue(e,l,"whitespace")(t):l(t))}function l(n){return null===n||Fe(n)?(e.exit("codeFencedFence"),r.interrupt?t(n):e.check(tt,h,b)(n)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),a(n))}function a(t){return null===t||Fe(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),l(t)):Oe(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Ue(e,f,"whitespace")(t)):96===t&&t===o?n(t):(e.consume(t),a)}function f(t){return null===t||Fe(t)?l(t):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),d(t))}function d(t){return null===t||Fe(t)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),l(t)):96===t&&t===o?n(t):(e.consume(t),d)}function h(t){return e.attempt(i,b,p)(t)}function p(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),g}function g(t){return s>0&&Oe(t)?Ue(e,m,"linePrefix",s+1)(t):m(t)}function m(t){return null===t||Fe(t)?e.check(tt,h,b)(t):(e.enter("codeFlowValue"),y(t))}function y(t){return null===t||Fe(t)?(e.exit("codeFlowValue"),m(t)):(e.consume(t),y)}function b(n){return e.exit("codeFenced"),t(n)}},concrete:!0};const rt={name:"codeIndented",tokenize:function(e,t,n){const r=this;return function(t){return e.enter("codeIndented"),Ue(e,i,"linePrefix",5)(t)};function i(e){const t=r.events[r.events.length-1];return t&&"linePrefix"===t[1].type&&t[2].sliceSerialize(t[1],!0).length>=4?o(e):n(e)}function o(t){return null===t?u(t):Fe(t)?e.attempt(it,o,u)(t):(e.enter("codeFlowValue"),s(t))}function s(t){return null===t||Fe(t)?(e.exit("codeFlowValue"),o(t)):(e.consume(t),s)}function u(n){return e.exit("codeIndented"),t(n)}}},it={tokenize:function(e,t,n){const r=this;return i;function i(t){return r.parser.lazy[r.now().line]?n(t):Fe(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),i):Ue(e,o,"linePrefix",5)(t)}function o(e){const o=r.events[r.events.length-1];return o&&"linePrefix"===o[1].type&&o[2].sliceSerialize(o[1],!0).length>=4?t(e):Fe(e)?i(e):n(e)}},partial:!0};const ot={name:"codeText",tokenize:function(e,t,n){let r,i,o=0;return function(t){return e.enter("codeText"),e.enter("codeTextSequence"),s(t)};function s(t){return 96===t?(e.consume(t),o++,s):(e.exit("codeTextSequence"),u(t))}function u(t){return null===t?n(t):32===t?(e.enter("space"),e.consume(t),e.exit("space"),u):96===t?(i=e.enter("codeTextSequence"),r=0,l(t)):Fe(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),u):(e.enter("codeTextData"),c(t))}function c(t){return null===t||32===t||96===t||Fe(t)?(e.exit("codeTextData"),u(t)):(e.consume(t),c)}function l(n){return 96===n?(e.consume(n),r++,l):r===o?(e.exit("codeTextSequence"),e.exit("codeText"),t(n)):(i.type="codeTextData",c(n))}},resolve:function(e){let t,n,r=e.length-4,i=3;if(!("lineEnding"!==e[i][1].type&&"space"!==e[i][1].type||"lineEnding"!==e[r][1].type&&"space"!==e[r][1].type))for(t=i;++t<r;)if("codeTextData"===e[t][1].type){e[i][1].type="codeTextPadding",e[r][1].type="codeTextPadding",i+=2,r-=2;break}t=i-1,r++;for(;++t<=r;)void 0===n?t!==r&&"lineEnding"!==e[t][1].type&&(n=t):t!==r&&"lineEnding"!==e[t][1].type||(e[n][1].type="codeTextData",t!==n+2&&(e[n][1].end=e[t-1][1].end,e.splice(n+2,t-n-2),r-=t-n-2,t=n+2),n=void 0);return e},previous:function(e){return 96!==e||"characterEscape"===this.events[this.events.length-1][1].type}};function st(e){const t={};let n,r,i,o,s,u,c,l=-1;for(;++l<e.length;){for(;l in t;)l=t[l];if(n=e[l],l&&"chunkFlow"===n[1].type&&"listItemPrefix"===e[l-1][1].type&&(u=n[1]._tokenizer.events,i=0,i<u.length&&"lineEndingBlank"===u[i][1].type&&(i+=2),i<u.length&&"content"===u[i][1].type))for(;++i<u.length&&"content"!==u[i][1].type;)"chunkText"===u[i][1].type&&(u[i][1]._isInFirstContentOfListItem=!0,i++);if("enter"===n[0])n[1].contentType&&(Object.assign(t,ut(e,l)),l=t[l],c=!0);else if(n[1]._container){for(i=l,r=void 0;i--&&(o=e[i],"lineEnding"===o[1].type||"lineEndingBlank"===o[1].type);)"enter"===o[0]&&(r&&(e[r][1].type="lineEndingBlank"),o[1].type="lineEnding",r=i);r&&(n[1].end=Object.assign({},e[r][1].start),s=e.slice(r,l),s.unshift(n),ge(e,r,l-r+1,s))}}return!c}function ut(e,t){const n=e[t][1],r=e[t][2];let i=t-1;const o=[],s=n._tokenizer||r.parser[n.contentType](n.start),u=s.events,c=[],l={};let a,f,d=-1,h=n,p=0,g=0;const m=[g];for(;h;){for(;e[++i][1]!==h;);o.push(i),h._tokenizer||(a=r.sliceStream(h),h.next||a.push(null),f&&s.defineSkip(h.start),h._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(a),h._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),f=h,h=h.next}for(h=n;++d<u.length;)"exit"===u[d][0]&&"enter"===u[d-1][0]&&u[d][1].type===u[d-1][1].type&&u[d][1].start.line!==u[d][1].end.line&&(g=d+1,m.push(g),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(s.events=[],h?(h._tokenizer=void 0,h.previous=void 0):m.pop(),d=m.length;d--;){const t=u.slice(m[d],m[d+1]),n=o.pop();c.unshift([n,n+t.length-1]),ge(e,n,2,t)}for(d=-1;++d<c.length;)l[p+c[d][0]]=p+c[d][1],p+=c[d][1]-c[d][0]-1;return l}const ct={tokenize:function(e,t){let n;return function(t){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),r(t)};function r(t){return null===t?i(t):Fe(t)?e.check(lt,o,i)(t):(e.consume(t),r)}function i(n){return e.exit("chunkContent"),e.exit("content"),t(n)}function o(t){return e.consume(t),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,r}},resolve:function(e){return st(e),e}},lt={tokenize:function(e,t,n){const r=this;return function(t){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),Ue(e,i,"linePrefix")};function i(i){if(null===i||Fe(i))return n(i);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&"linePrefix"===o[1].type&&o[2].sliceSerialize(o[1],!0).length>=4?t(i):e.interrupt(r.parser.constructs.flow,n,t)(i)}},partial:!0};function at(e,t,n,r,i,o,s,u,c){const l=c||Number.POSITIVE_INFINITY;let a=0;return function(t){if(60===t)return e.enter(r),e.enter(i),e.enter(o),e.consume(t),e.exit(o),f;if(null===t||32===t||41===t||Be(t))return n(t);return e.enter(r),e.enter(s),e.enter(u),e.enter("chunkString",{contentType:"string"}),p(t)};function f(n){return 62===n?(e.enter(o),e.consume(n),e.exit(o),e.exit(i),e.exit(r),t):(e.enter(u),e.enter("chunkString",{contentType:"string"}),d(n))}function d(t){return 62===t?(e.exit("chunkString"),e.exit(u),f(t)):null===t||60===t||Fe(t)?n(t):(e.consume(t),92===t?h:d)}function h(t){return 60===t||62===t||92===t?(e.consume(t),d):d(t)}function p(i){return a||null!==i&&41!==i&&!Te(i)?a<l&&40===i?(e.consume(i),a++,p):41===i?(e.consume(i),a--,p):null===i||32===i||40===i||Be(i)?n(i):(e.consume(i),92===i?g:p):(e.exit("chunkString"),e.exit(u),e.exit(s),e.exit(r),t(i))}function g(t){return 40===t||41===t||92===t?(e.consume(t),p):p(t)}}function ft(e,t,n,r,i,o){const s=this;let u,c=0;return function(t){return e.enter(r),e.enter(i),e.consume(t),e.exit(i),e.enter(o),l};function l(f){return c>999||null===f||91===f||93===f&&!u||94===f&&!c&&"_hiddenFootnoteSupport"in s.parser.constructs?n(f):93===f?(e.exit(o),e.enter(i),e.consume(f),e.exit(i),e.exit(r),t):Fe(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),l):(e.enter("chunkString",{contentType:"string"}),a(f))}function a(t){return null===t||91===t||93===t||Fe(t)||c++>999?(e.exit("chunkString"),l(t)):(e.consume(t),u||(u=!Oe(t)),92===t?f:a)}function f(t){return 91===t||92===t||93===t?(e.consume(t),c++,a):a(t)}}function dt(e,t,n,r,i,o){let s;return function(t){if(34===t||39===t||40===t)return e.enter(r),e.enter(i),e.consume(t),e.exit(i),s=40===t?41:t,u;return n(t)};function u(n){return n===s?(e.enter(i),e.consume(n),e.exit(i),e.exit(r),t):(e.enter(o),c(n))}function c(t){return t===s?(e.exit(o),u(s)):null===t?n(t):Fe(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),Ue(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),l(t))}function l(t){return t===s||null===t||Fe(t)?(e.exit("chunkString"),c(t)):(e.consume(t),92===t?a:l)}function a(t){return t===s||92===t?(e.consume(t),l):l(t)}}function ht(e,t){let n;return function r(i){if(Fe(i))return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r;if(Oe(i))return Ue(e,r,n?"linePrefix":"lineSuffix")(i);return t(i)}}const pt={name:"definition",tokenize:function(e,t,n){const r=this;let i;return function(t){return e.enter("definition"),function(t){return ft.call(r,e,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(t)}(t)};function o(t){return i=ke(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),58===t?(e.enter("definitionMarker"),e.consume(t),e.exit("definitionMarker"),s):n(t)}function s(t){return Te(t)?ht(e,u)(t):u(t)}function u(t){return at(e,c,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(t)}function c(t){return e.attempt(gt,l,l)(t)}function l(t){return Oe(t)?Ue(e,a,"whitespace")(t):a(t)}function a(o){return null===o||Fe(o)?(e.exit("definition"),r.parser.defined.push(i),t(o)):n(o)}}},gt={tokenize:function(e,t,n){return function(t){return Te(t)?ht(e,r)(t):n(t)};function r(t){return dt(e,i,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(t)}function i(t){return Oe(t)?Ue(e,o,"whitespace")(t):o(t)}function o(e){return null===e||Fe(e)?t(e):n(e)}},partial:!0};const mt={name:"hardBreakEscape",tokenize:function(e,t,n){return function(t){return e.enter("hardBreakEscape"),e.consume(t),r};function r(r){return Fe(r)?(e.exit("hardBreakEscape"),t(r)):n(r)}}};const yt={name:"headingAtx",tokenize:function(e,t,n){let r=0;return function(t){return e.enter("atxHeading"),function(t){return e.enter("atxHeadingSequence"),i(t)}(t)};function i(t){return 35===t&&r++<6?(e.consume(t),i):null===t||Te(t)?(e.exit("atxHeadingSequence"),o(t)):n(t)}function o(n){return 35===n?(e.enter("atxHeadingSequence"),s(n)):null===n||Fe(n)?(e.exit("atxHeading"),t(n)):Oe(n)?Ue(e,o,"whitespace")(n):(e.enter("atxHeadingText"),u(n))}function s(t){return 35===t?(e.consume(t),s):(e.exit("atxHeadingSequence"),o(t))}function u(t){return null===t||35===t||Te(t)?(e.exit("atxHeadingText"),o(t)):(e.consume(t),u)}},resolve:function(e,t){let n,r,i=e.length-2,o=3;"whitespace"===e[o][1].type&&(o+=2);i-2>o&&"whitespace"===e[i][1].type&&(i-=2);"atxHeadingSequence"===e[i][1].type&&(o===i-1||i-4>o&&"whitespace"===e[i-2][1].type)&&(i-=o+1===i?2:4);i>o&&(n={type:"atxHeadingText",start:e[o][1].start,end:e[i][1].end},r={type:"chunkText",start:e[o][1].start,end:e[i][1].end,contentType:"text"},ge(e,o,i-o+1,[["enter",n,t],["enter",r,t],["exit",r,t],["exit",n,t]]));return e}};const bt=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],wt=["pre","script","style","textarea"],vt={name:"htmlFlow",tokenize:function(e,t,n){const r=this;let i,o,s,u,c;return function(t){return function(t){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(t),l}(t)};function l(u){return 33===u?(e.consume(u),a):47===u?(e.consume(u),o=!0,h):63===u?(e.consume(u),i=3,r.interrupt?t:L):Se(u)?(e.consume(u),s=String.fromCharCode(u),p):n(u)}function a(o){return 45===o?(e.consume(o),i=2,f):91===o?(e.consume(o),i=5,u=0,d):Se(o)?(e.consume(o),i=4,r.interrupt?t:L):n(o)}function f(i){return 45===i?(e.consume(i),r.interrupt?t:L):n(i)}function d(i){const o="CDATA[";return i===o.charCodeAt(u++)?(e.consume(i),6===u?r.interrupt?t:z:d):n(i)}function h(t){return Se(t)?(e.consume(t),s=String.fromCharCode(t),p):n(t)}function p(u){if(null===u||47===u||62===u||Te(u)){const c=47===u,l=s.toLowerCase();return c||o||!wt.includes(l)?bt.includes(s.toLowerCase())?(i=6,c?(e.consume(u),g):r.interrupt?t(u):z(u)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(u):o?m(u):y(u)):(i=1,r.interrupt?t(u):z(u))}return 45===u||Ae(u)?(e.consume(u),s+=String.fromCharCode(u),p):n(u)}function g(i){return 62===i?(e.consume(i),r.interrupt?t:z):n(i)}function m(t){return Oe(t)?(e.consume(t),m):S(t)}function y(t){return 47===t?(e.consume(t),S):58===t||95===t||Se(t)?(e.consume(t),b):Oe(t)?(e.consume(t),y):S(t)}function b(t){return 45===t||46===t||58===t||95===t||Ae(t)?(e.consume(t),b):w(t)}function w(t){return 61===t?(e.consume(t),v):Oe(t)?(e.consume(t),w):y(t)}function v(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),c=t,x):Oe(t)?(e.consume(t),v):E(t)}function x(t){return t===c?(e.consume(t),c=null,k):null===t||Fe(t)?n(t):(e.consume(t),x)}function E(t){return null===t||34===t||39===t||47===t||60===t||61===t||62===t||96===t||Te(t)?w(t):(e.consume(t),E)}function k(e){return 47===e||62===e||Oe(e)?y(e):n(e)}function S(t){return 62===t?(e.consume(t),A):n(t)}function A(t){return null===t||Fe(t)?z(t):Oe(t)?(e.consume(t),A):n(t)}function z(t){return 45===t&&2===i?(e.consume(t),_):60===t&&1===i?(e.consume(t),F):62===t&&4===i?(e.consume(t),P):63===t&&3===i?(e.consume(t),L):93===t&&5===i?(e.consume(t),O):!Fe(t)||6!==i&&7!==i?null===t||Fe(t)?(e.exit("htmlFlowData"),B(t)):(e.consume(t),z):(e.exit("htmlFlowData"),e.check(xt,R,B)(t))}function B(t){return e.check(Et,C,R)(t)}function C(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),I}function I(t){return null===t||Fe(t)?B(t):(e.enter("htmlFlowData"),z(t))}function _(t){return 45===t?(e.consume(t),L):z(t)}function F(t){return 47===t?(e.consume(t),s="",T):z(t)}function T(t){if(62===t){const n=s.toLowerCase();return wt.includes(n)?(e.consume(t),P):z(t)}return Se(t)&&s.length<8?(e.consume(t),s+=String.fromCharCode(t),T):z(t)}function O(t){return 93===t?(e.consume(t),L):z(t)}function L(t){return 62===t?(e.consume(t),P):45===t&&2===i?(e.consume(t),L):z(t)}function P(t){return null===t||Fe(t)?(e.exit("htmlFlowData"),R(t)):(e.consume(t),P)}function R(n){return e.exit("htmlFlow"),t(n)}},resolveTo:function(e){let t=e.length;for(;t--&&("enter"!==e[t][0]||"htmlFlow"!==e[t][1].type););t>1&&"linePrefix"===e[t-2][1].type&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2));return e},concrete:!0},xt={tokenize:function(e,t,n){return function(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),e.attempt(Qe,t,n)}},partial:!0},Et={tokenize:function(e,t,n){const r=this;return function(t){if(Fe(t))return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),i;return n(t)};function i(e){return r.parser.lazy[r.now().line]?n(e):t(e)}},partial:!0};const kt={name:"htmlText",tokenize:function(e,t,n){const r=this;let i,o,s;return function(t){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(t),u};function u(t){return 33===t?(e.consume(t),c):47===t?(e.consume(t),v):63===t?(e.consume(t),b):Se(t)?(e.consume(t),k):n(t)}function c(t){return 45===t?(e.consume(t),l):91===t?(e.consume(t),o=0,h):Se(t)?(e.consume(t),y):n(t)}function l(t){return 45===t?(e.consume(t),d):n(t)}function a(t){return null===t?n(t):45===t?(e.consume(t),f):Fe(t)?(s=a,T(t)):(e.consume(t),a)}function f(t){return 45===t?(e.consume(t),d):a(t)}function d(e){return 62===e?F(e):45===e?f(e):a(e)}function h(t){const r="CDATA[";return t===r.charCodeAt(o++)?(e.consume(t),6===o?p:h):n(t)}function p(t){return null===t?n(t):93===t?(e.consume(t),g):Fe(t)?(s=p,T(t)):(e.consume(t),p)}function g(t){return 93===t?(e.consume(t),m):p(t)}function m(t){return 62===t?F(t):93===t?(e.consume(t),m):p(t)}function y(t){return null===t||62===t?F(t):Fe(t)?(s=y,T(t)):(e.consume(t),y)}function b(t){return null===t?n(t):63===t?(e.consume(t),w):Fe(t)?(s=b,T(t)):(e.consume(t),b)}function w(e){return 62===e?F(e):b(e)}function v(t){return Se(t)?(e.consume(t),x):n(t)}function x(t){return 45===t||Ae(t)?(e.consume(t),x):E(t)}function E(t){return Fe(t)?(s=E,T(t)):Oe(t)?(e.consume(t),E):F(t)}function k(t){return 45===t||Ae(t)?(e.consume(t),k):47===t||62===t||Te(t)?S(t):n(t)}function S(t){return 47===t?(e.consume(t),F):58===t||95===t||Se(t)?(e.consume(t),A):Fe(t)?(s=S,T(t)):Oe(t)?(e.consume(t),S):F(t)}function A(t){return 45===t||46===t||58===t||95===t||Ae(t)?(e.consume(t),A):z(t)}function z(t){return 61===t?(e.consume(t),B):Fe(t)?(s=z,T(t)):Oe(t)?(e.consume(t),z):S(t)}function B(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),i=t,C):Fe(t)?(s=B,T(t)):Oe(t)?(e.consume(t),B):(e.consume(t),I)}function C(t){return t===i?(e.consume(t),i=void 0,_):null===t?n(t):Fe(t)?(s=C,T(t)):(e.consume(t),C)}function I(t){return null===t||34===t||39===t||60===t||61===t||96===t?n(t):47===t||62===t||Te(t)?S(t):(e.consume(t),I)}function _(e){return 47===e||62===e||Te(e)?S(e):n(e)}function F(r){return 62===r?(e.consume(r),e.exit("htmlTextData"),e.exit("htmlText"),t):n(r)}function T(t){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),O}function O(t){return Oe(t)?Ue(e,L,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):L(t)}function L(t){return e.enter("htmlTextData"),s(t)}}};const St={name:"labelEnd",tokenize:function(e,t,n){const r=this;let i,o,s=r.events.length;for(;s--;)if(("labelImage"===r.events[s][1].type||"labelLink"===r.events[s][1].type)&&!r.events[s][1]._balanced){i=r.events[s][1];break}return function(t){if(!i)return n(t);if(i._inactive)return a(t);return o=r.parser.defined.includes(ke(r.sliceSerialize({start:i.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelEnd"),u};function u(t){return 40===t?e.attempt(At,l,o?l:a)(t):91===t?e.attempt(zt,l,o?c:a)(t):o?l(t):a(t)}function c(t){return e.attempt(Bt,l,a)(t)}function l(e){return t(e)}function a(e){return i._balanced=!0,n(e)}},resolveTo:function(e,t){let n,r,i,o,s=e.length,u=0;for(;s--;)if(n=e[s][1],r){if("link"===n.type||"labelLink"===n.type&&n._inactive)break;"enter"===e[s][0]&&"labelLink"===n.type&&(n._inactive=!0)}else if(i){if("enter"===e[s][0]&&("labelImage"===n.type||"labelLink"===n.type)&&!n._balanced&&(r=s,"labelLink"!==n.type)){u=2;break}}else"labelEnd"===n.type&&(i=s);const c={type:"labelLink"===e[r][1].type?"link":"image",start:Object.assign({},e[r][1].start),end:Object.assign({},e[e.length-1][1].end)},l={type:"label",start:Object.assign({},e[r][1].start),end:Object.assign({},e[i][1].end)},a={type:"labelText",start:Object.assign({},e[r+u+2][1].end),end:Object.assign({},e[i-2][1].start)};return o=[["enter",c,t],["enter",l,t]],o=me(o,e.slice(r+1,r+u+3)),o=me(o,[["enter",a,t]]),o=me(o,Ze(t.parser.constructs.insideSpan.null,e.slice(r+u+4,i-3),t)),o=me(o,[["exit",a,t],e[i-2],e[i-1],["exit",l,t]]),o=me(o,e.slice(i+1)),o=me(o,[["exit",c,t]]),ge(e,r,e.length,o),e},resolveAll:function(e){let t=-1;for(;++t<e.length;){const n=e[t][1];"labelImage"!==n.type&&"labelLink"!==n.type&&"labelEnd"!==n.type||(e.splice(t+1,"labelImage"===n.type?4:2),n.type="data",t++)}return e}},At={tokenize:function(e,t,n){return function(t){return e.enter("resource"),e.enter("resourceMarker"),e.consume(t),e.exit("resourceMarker"),r};function r(t){return Te(t)?ht(e,i)(t):i(t)}function i(t){return 41===t?l(t):at(e,o,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(t)}function o(t){return Te(t)?ht(e,u)(t):l(t)}function s(e){return n(e)}function u(t){return 34===t||39===t||40===t?dt(e,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(t):l(t)}function c(t){return Te(t)?ht(e,l)(t):l(t)}function l(r){return 41===r?(e.enter("resourceMarker"),e.consume(r),e.exit("resourceMarker"),e.exit("resource"),t):n(r)}}},zt={tokenize:function(e,t,n){const r=this;return function(t){return ft.call(r,e,i,o,"reference","referenceMarker","referenceString")(t)};function i(e){return r.parser.defined.includes(ke(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(e):n(e)}function o(e){return n(e)}}},Bt={tokenize:function(e,t,n){return function(t){return e.enter("reference"),e.enter("referenceMarker"),e.consume(t),e.exit("referenceMarker"),r};function r(r){return 93===r?(e.enter("referenceMarker"),e.consume(r),e.exit("referenceMarker"),e.exit("reference"),t):n(r)}}};const Ct={name:"labelStartImage",tokenize:function(e,t,n){const r=this;return function(t){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(t),e.exit("labelImageMarker"),i};function i(t){return 91===t?(e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelImage"),o):n(t)}function o(e){return 94===e&&"_hiddenFootnoteSupport"in r.parser.constructs?n(e):t(e)}},resolveAll:St.resolveAll};const It={name:"labelStartLink",tokenize:function(e,t,n){const r=this;return function(t){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelLink"),i};function i(e){return 94===e&&"_hiddenFootnoteSupport"in r.parser.constructs?n(e):t(e)}},resolveAll:St.resolveAll};const _t={name:"lineEnding",tokenize:function(e,t){return function(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),Ue(e,t,"linePrefix")}}};const Ft={name:"thematicBreak",tokenize:function(e,t,n){let r,i=0;return function(t){return e.enter("thematicBreak"),function(e){return r=e,o(e)}(t)};function o(o){return o===r?(e.enter("thematicBreakSequence"),s(o)):i>=3&&(null===o||Fe(o))?(e.exit("thematicBreak"),t(o)):n(o)}function s(t){return t===r?(e.consume(t),i++,s):(e.exit("thematicBreakSequence"),Oe(t)?Ue(e,o,"whitespace")(t):o(t))}}};const Tt={name:"list",tokenize:function(e,t,n){const r=this,i=r.events[r.events.length-1];let o=i&&"linePrefix"===i[1].type?i[2].sliceSerialize(i[1],!0).length:0,s=0;return function(t){const i=r.containerState.type||(42===t||43===t||45===t?"listUnordered":"listOrdered");if("listUnordered"===i?!r.containerState.marker||t===r.containerState.marker:Ce(t)){if(r.containerState.type||(r.containerState.type=i,e.enter(i,{_container:!0})),"listUnordered"===i)return e.enter("listItemPrefix"),42===t||45===t?e.check(Ft,n,c)(t):c(t);if(!r.interrupt||49===t)return e.enter("listItemPrefix"),e.enter("listItemValue"),u(t)}return n(t)};function u(t){return Ce(t)&&++s<10?(e.consume(t),u):(!r.interrupt||s<2)&&(r.containerState.marker?t===r.containerState.marker:41===t||46===t)?(e.exit("listItemValue"),c(t)):n(t)}function c(t){return e.enter("listItemMarker"),e.consume(t),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||t,e.check(Qe,r.interrupt?n:l,e.attempt(Ot,f,a))}function l(e){return r.containerState.initialBlankLine=!0,o++,f(e)}function a(t){return Oe(t)?(e.enter("listItemPrefixWhitespace"),e.consume(t),e.exit("listItemPrefixWhitespace"),f):n(t)}function f(n){return r.containerState.size=o+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(n)}},continuation:{tokenize:function(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Qe,(function(n){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Ue(e,t,"listItemIndent",r.containerState.size+1)(n)}),(function(n){if(r.containerState.furtherBlankLines||!Oe(n))return r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,i(n);return r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(Lt,t,i)(n)}));function i(i){return r.containerState._closeFlow=!0,r.interrupt=void 0,Ue(e,e.attempt(Tt,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(i)}}},exit:function(e){e.exit(this.containerState.type)}},Ot={tokenize:function(e,t,n){const r=this;return Ue(e,(function(e){const i=r.events[r.events.length-1];return!Oe(e)&&i&&"listItemPrefixWhitespace"===i[1].type?t(e):n(e)}),"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5)},partial:!0},Lt={tokenize:function(e,t,n){const r=this;return Ue(e,(function(e){const i=r.events[r.events.length-1];return i&&"listItemIndent"===i[1].type&&i[2].sliceSerialize(i[1],!0).length===r.containerState.size?t(e):n(e)}),"listItemIndent",r.containerState.size+1)},partial:!0};const Pt={name:"setextUnderline",tokenize:function(e,t,n){const r=this;let i;return function(t){let s,u=r.events.length;for(;u--;)if("lineEnding"!==r.events[u][1].type&&"linePrefix"!==r.events[u][1].type&&"content"!==r.events[u][1].type){s="paragraph"===r.events[u][1].type;break}if(!r.parser.lazy[r.now().line]&&(r.interrupt||s))return e.enter("setextHeadingLine"),i=t,function(t){return e.enter("setextHeadingLineSequence"),o(t)}(t);return n(t)};function o(t){return t===i?(e.consume(t),o):(e.exit("setextHeadingLineSequence"),Oe(t)?Ue(e,s,"lineSuffix")(t):s(t))}function s(r){return null===r||Fe(r)?(e.exit("setextHeadingLine"),t(r)):n(r)}},resolveTo:function(e,t){let n,r,i,o=e.length;for(;o--;)if("enter"===e[o][0]){if("content"===e[o][1].type){n=o;break}"paragraph"===e[o][1].type&&(r=o)}else"content"===e[o][1].type&&e.splice(o,1),i||"definition"!==e[o][1].type||(i=o);const s={type:"setextHeading",start:Object.assign({},e[r][1].start),end:Object.assign({},e[e.length-1][1].end)};e[r][1].type="setextHeadingText",i?(e.splice(r,0,["enter",s,t]),e.splice(i+1,0,["exit",e[n][1],t]),e[n][1].end=Object.assign({},e[i][1].end)):e[n][1]=s;return e.push(["exit",s,t]),e}};const Rt={tokenize:function(e){const t=this,n=e.attempt(Qe,(function(r){if(null===r)return void e.consume(r);return e.enter("lineEndingBlank"),e.consume(r),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}),e.attempt(this.parser.constructs.flowInitial,r,Ue(e,e.attempt(this.parser.constructs.flow,r,e.attempt(ct,r)),"linePrefix")));return n;function r(r){if(null!==r)return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),t.currentConstruct=void 0,n;e.consume(r)}}};const Dt={resolveAll:qt()},$t=Nt("string"),jt=Nt("text");function Nt(e){return{tokenize:function(t){const n=this,r=this.parser.constructs[e],i=t.attempt(r,o,s);return o;function o(e){return c(e)?i(e):s(e)}function s(e){if(null!==e)return t.enter("data"),t.consume(e),u;t.consume(e)}function u(e){return c(e)?(t.exit("data"),i(e)):(t.consume(e),u)}function c(e){if(null===e)return!0;const t=r[e];let i=-1;if(t)for(;++i<t.length;){const e=t[i];if(!e.previous||e.previous.call(n,n.previous))return!0}return!1}},resolveAll:qt("text"===e?Ut:void 0)}}function qt(e){return function(t,n){let r,i=-1;for(;++i<=t.length;)void 0===r?t[i]&&"data"===t[i][1].type&&(r=i,i++):t[i]&&"data"===t[i][1].type||(i!==r+2&&(t[r][1].end=t[i-1][1].end,t.splice(r+2,i-r-2),i=r+2),r=void 0);return e?e(t,n):t}}function Ut(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||"lineEnding"===e[n][1].type)&&"data"===e[n-1][1].type){const r=e[n-1][1],i=t.sliceStream(r);let o,s=i.length,u=-1,c=0;for(;s--;){const e=i[s];if("string"==typeof e){for(u=e.length;32===e.charCodeAt(u-1);)c++,u--;if(u)break;u=-1}else if(-2===e)o=!0,c++;else if(-1!==e){s++;break}}if(c){const i={type:n===e.length||o||c<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-c,offset:r.end.offset-c,_index:r.start._index+s,_bufferIndex:s?u:r.start._bufferIndex+u},end:Object.assign({},r.end)};r.end=Object.assign({},i.start),r.start.offset===r.end.offset?Object.assign(r,i):(e.splice(n,0,["enter",i,t],["exit",i,t]),n+=2)}n++}return e}function Ht(e,t,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},o=[];let s=[],u=[];const c={consume:function(e){Fe(e)?(r.line++,r.column=1,r.offset+=-3===e?2:1,b()):-1!==e&&(r.column++,r.offset++);r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++));l.previous=e},enter:function(e,t){const n=t||{};return n.type=e,n.start=d(),l.events.push(["enter",n,l]),u.push(n),n},exit:function(e){const t=u.pop();return t.end=d(),l.events.push(["exit",t,l]),t},attempt:m((function(e,t){y(e,t.from)})),check:m(g),interrupt:m(g,{interrupt:!0})},l={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:f,sliceSerialize:function(e,t){return function(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const o=e[n];let s;if("string"==typeof o)s=o;else switch(o){case-5:s="\r";break;case-4:s="\n";break;case-3:s="\r\n";break;case-2:s=t?" ":"\t";break;case-1:if(!t&&i)continue;s=" ";break;default:s=String.fromCharCode(o)}i=-2===o,r.push(s)}return r.join("")}(f(e),t)},now:d,defineSkip:function(e){i[e.line]=e.column,b()},write:function(e){if(s=me(s,e),h(),null!==s[s.length-1])return[];return y(t,0),l.events=Ze(o,l.events,l),l.events}};let a=t.tokenize.call(l,c);return t.resolveAll&&o.push(t),l;function f(e){return function(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,o=t.end._bufferIndex;let s;if(n===i)s=[e[n].slice(r,o)];else{if(s=e.slice(n,i),r>-1){const e=s[0];"string"==typeof e?s[0]=e.slice(r):s.shift()}o>0&&s.push(e[i].slice(0,o))}return s}(s,e)}function d(){const{line:e,column:t,offset:n,_index:i,_bufferIndex:o}=r;return{line:e,column:t,offset:n,_index:i,_bufferIndex:o}}function h(){let e;for(;r._index<s.length;){const t=s[r._index];if("string"==typeof t)for(e=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===e&&r._bufferIndex<t.length;)p(t.charCodeAt(r._bufferIndex));else p(t)}}function p(e){a=a(e)}function g(e,t){t.restore()}function m(e,t){return function(n,i,o){let s,a,f,h;return Array.isArray(n)?p(n):"tokenize"in n?p([n]):function(e){return t;function t(t){const n=null!==t&&e[t],r=null!==t&&e.null;return p([...Array.isArray(n)?n:n?[n]:[],...Array.isArray(r)?r:r?[r]:[]])(t)}}(n);function p(e){return s=e,a=0,0===e.length?o:g(e[a])}function g(e){return function(n){h=function(){const e=d(),t=l.previous,n=l.currentConstruct,i=l.events.length,o=Array.from(u);return{restore:s,from:i};function s(){r=e,l.previous=t,l.currentConstruct=n,l.events.length=i,u=o,b()}}(),f=e,e.partial||(l.currentConstruct=e);if(e.name&&l.parser.constructs.disable.null.includes(e.name))return y();return e.tokenize.call(t?Object.assign(Object.create(l),t):l,c,m,y)(n)}}function m(t){return e(f,h),i}function y(e){return h.restore(),++a<s.length?g(s[a]):o}}}function y(e,t){e.resolveAll&&!o.includes(e)&&o.push(e),e.resolve&&ge(l.events,t,l.events.length-t,e.resolve(l.events.slice(t),l)),e.resolveTo&&(l.events=e.resolveTo(l.events,l))}function b(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}const Mt={42:Tt,43:Tt,45:Tt,48:Tt,49:Tt,50:Tt,51:Tt,52:Tt,53:Tt,54:Tt,55:Tt,56:Tt,57:Tt,62:Je},Vt={91:pt},Wt={[-2]:rt,[-1]:rt,32:rt},Zt={35:yt,42:Ft,45:[Pt,Ft],60:vt,61:Pt,95:Ft,96:nt,126:nt},Kt={38:et,92:Xe},Yt={[-5]:_t,[-4]:_t,[-3]:_t,33:Ct,38:et,42:Ke,60:[Ge,kt],91:It,92:[mt,Xe],93:St,95:Ke,96:ot},Gt={null:[Ke,Dt]},Qt=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:{null:[42,95]},contentInitial:Vt,disable:{null:[]},document:Mt,flow:Zt,flowInitial:Wt,insideSpan:Gt,string:Kt,text:Yt},Symbol.toStringTag,{value:"Module"}));function Jt(e){const t={defined:[],lazy:{},constructs:function(e){const t={};let n=-1;for(;++n<e.length;)be(t,e[n]);return t}([Qt,...(e||{}).extensions||[]]),content:n(He),document:n(Me),flow:n(Rt),string:n($t),text:n(jt)};return t;function n(e){return function(n){return Ht(t,e,n)}}}const Xt=/[\0\t\n\r]/g;function en(e,t,n){return"string"!=typeof t&&(n=t,t=void 0),qe(n)(function(e){for(;!st(e););return e}(Jt(n).document().write(function(){let e,t=1,n="",r=!0;return function(i,o,s){const u=[];let c,l,a,f,d;for(i=n+i.toString(o),a=0,n="",r&&(65279===i.charCodeAt(0)&&a++,r=void 0);a<i.length;){if(Xt.lastIndex=a,c=Xt.exec(i),f=c&&void 0!==c.index?c.index:i.length,d=i.charCodeAt(f),!c){n=i.slice(a);break}if(10===d&&a===f&&e)u.push(-3),e=void 0;else switch(e&&(u.push(-5),e=void 0),a<f&&(u.push(i.slice(a,f)),t+=f-a),d){case 0:u.push(65533),t++;break;case 9:for(l=4*Math.ceil(t/4),u.push(-2);t++<l;)u.push(-1);break;case 10:u.push(-4),t=1;break;default:e=!0,t=1}a=f+1}return s&&(e&&u.push(-5),n&&u.push(n),u.push(null)),u}}()(e,t,!0))))}const tn={tokenize:function(e,t,n){let r=0;return function t(o){if((87===o||119===o)&&r<3)return r++,e.consume(o),t;if(46===o&&3===r)return e.consume(o),i;return n(o)};function i(e){return null===e?n(e):t(e)}},partial:!0},nn={tokenize:function(e,t,n){let r,i,o;return s;function s(t){return 46===t||95===t?e.check(on,c,u)(t):null===t||Te(t)||Pe(t)||45!==t&&Le(t)?c(t):(o=!0,e.consume(t),s)}function u(t){return 95===t?r=!0:(i=r,r=void 0),e.consume(t),s}function c(e){return i||r||!o?n(e):t(e)}},partial:!0},rn={tokenize:function(e,t){let n=0,r=0;return i;function i(s){return 40===s?(n++,e.consume(s),i):41===s&&r<n?o(s):33===s||34===s||38===s||39===s||41===s||42===s||44===s||46===s||58===s||59===s||60===s||63===s||93===s||95===s||126===s?e.check(on,t,o)(s):null===s||Te(s)||Pe(s)?t(s):(e.consume(s),i)}function o(t){return 41===t&&r++,e.consume(t),i}},partial:!0},on={tokenize:function(e,t,n){return r;function r(s){return 33===s||34===s||39===s||41===s||42===s||44===s||46===s||58===s||59===s||63===s||95===s||126===s?(e.consume(s),r):38===s?(e.consume(s),o):93===s?(e.consume(s),i):60===s||null===s||Te(s)||Pe(s)?t(s):n(s)}function i(e){return null===e||40===e||91===e||Te(e)||Pe(e)?t(e):r(e)}function o(e){return Se(e)?s(e):n(e)}function s(t){return 59===t?(e.consume(t),r):Se(t)?(e.consume(t),s):n(t)}},partial:!0},sn={tokenize:function(e,t,n){return function(t){return e.consume(t),r};function r(e){return Ae(e)?n(e):t(e)}},partial:!0},un={tokenize:function(e,t,n){const r=this;return function(t){if(87!==t&&119!==t||!hn.call(r,r.previous)||yn(r.events))return n(t);return e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(tn,e.attempt(nn,e.attempt(rn,i),n),n)(t)};function i(n){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(n)}},previous:hn},cn={tokenize:function(e,t,n){const r=this;let i="",o=!1;return function(t){if((72===t||104===t)&&pn.call(r,r.previous)&&!yn(r.events))return e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(t),e.consume(t),s;return n(t)};function s(t){if(Se(t)&&i.length<5)return i+=String.fromCodePoint(t),e.consume(t),s;if(58===t){const n=i.toLowerCase();if("http"===n||"https"===n)return e.consume(t),u}return n(t)}function u(t){return 47===t?(e.consume(t),o?c:(o=!0,u)):n(t)}function c(t){return null===t||Be(t)||Te(t)||Pe(t)||Le(t)?n(t):e.attempt(nn,e.attempt(rn,l),n)(t)}function l(n){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(n)}},previous:pn},ln={tokenize:function(e,t,n){const r=this;let i,o;return function(t){if(!mn(t)||!gn.call(r,r.previous)||yn(r.events))return n(t);return e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),s(t)};function s(t){return mn(t)?(e.consume(t),s):64===t?(e.consume(t),u):n(t)}function u(t){return 46===t?e.check(sn,l,c)(t):45===t||95===t||Ae(t)?(o=!0,e.consume(t),u):l(t)}function c(t){return e.consume(t),i=!0,u}function l(s){return o&&i&&Se(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(s)):n(s)}},previous:gn},an={},fn={text:an};let dn=48;for(;dn<123;)an[dn]=ln,dn++,58===dn?dn=65:91===dn&&(dn=97);function hn(e){return null===e||40===e||42===e||95===e||91===e||93===e||126===e||Te(e)}function pn(e){return!Se(e)}function gn(e){return!(47===e||mn(e))}function mn(e){return 43===e||45===e||46===e||95===e||Ae(e)}function yn(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if(("labelLink"===r.type||"labelImage"===r.type)&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}an[43]=ln,an[45]=ln,an[46]=ln,an[95]=ln,an[72]=[ln,cn],an[104]=[ln,cn],an[87]=[ln,un],an[119]=[ln,un];const bn={exit:{literalAutolinkEmail:function(e){wn.call(this,e,"mailto:")},literalAutolinkHttp:function(e){wn.call(this,e)},literalAutolinkWww:function(e){wn.call(this,e,"http://")}}};function wn(e,t){const n=this.sliceSerialize(e);this.tag('<a href="'+De((t||"")+n)+'">'),this.raw(this.encode(n)),this.tag("</a>")}const vn=Symbol("store-raw"),xn=Symbol("store-node");function En(e){let t;return null!=e&&"object"==typeof e&&(e[n]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function kn(e,t=new Set){let n,r,i,o;if(n=null!=e&&e[vn])return n;if(!En(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let n=0,o=e.length;n<o;n++)i=e[n],(r=kn(i,t))!==i&&(e[n]=r)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const n=Object.keys(e),s=Object.getOwnPropertyDescriptors(e);for(let u=0,c=n.length;u<c;u++)o=n[u],s[o].get||(i=e[o],(r=kn(i,t))!==i&&(e[o]=r))}return e}function Sn(e){let t=e[xn];return t||Object.defineProperty(e,xn,{value:t=Object.create(null)}),t}function An(e,t,n){return e[t]||(e[t]=Bn(n))}function zn(e){if(S()){const t=Sn(e);(t._||(t._=Bn()))()}}function Bn(e){const[t,n]=y(e,{equals:!1,internal:!0});return t.$=n,t}function Cn(e,t,n,r=!1){if(!r&&e[t]===n)return;const i=e[t],o=e.length;void 0===n?delete e[t]:e[t]=n;let s,u=Sn(e);if((s=An(u,t,i))&&s.$((()=>n)),Array.isArray(e)&&e.length!==o){for(let t=e.length;t<o;t++)(s=u[t])&&s.$();(s=An(u,"length",o))&&s.$(e.length)}(s=u._)&&s.$()}const In={get(e,t,i){if(t===vn)return e;if(t===n)return i;if(t===r)return zn(e),i;const o=Sn(e),s=o[t];let u=s?s():e[t];if(t===xn||"__proto__"===t)return u;if(!s){const n=Object.getOwnPropertyDescriptor(e,t),r="function"==typeof u;if(!S()||r&&!e.hasOwnProperty(t)||n&&n.get){if(null!=u&&r&&u===Array.prototype[t])return(...e)=>x((()=>Array.prototype[t].apply(i,e)))}else u=An(o,t,u)()}return En(u)?_n(u):u},has(e,t){return t===vn||t===n||t===r||t===xn||"__proto__"===t||(this.get(e,t,e),t in e)},set:(e,t,n)=>(x((()=>Cn(e,t,kn(n)))),!0),deleteProperty:(e,t)=>(x((()=>Cn(e,t,void 0,!0))),!0),ownKeys:function(e){return zn(e),Reflect.ownKeys(e)},getOwnPropertyDescriptor:function(e,t){const r=Reflect.getOwnPropertyDescriptor(e,t);return!r||r.get||r.set||!r.configurable||t===n||t===xn||(delete r.value,delete r.writable,r.get=()=>e[n][t],r.set=r=>e[n][t]=r),r}};function _n(e){let t=e[n];if(!t){Object.defineProperty(e,n,{value:t=new Proxy(e,In)});const r=Object.keys(e),i=Object.getOwnPropertyDescriptors(e);for(let n=0,o=r.length;n<o;n++){const o=r[n];if(i[o].get){const n=i[o].get.bind(t);Object.defineProperty(e,o,{get:n})}if(i[o].set){const n=i[o].set,r=e=>x((()=>n.call(t,e)));Object.defineProperty(e,o,{set:r})}}}return t}function Fn(e,t){return _n(kn(e||{}))}const Tn=Fn({}),On=Fn({}),Ln=Fn({}),Pn=function(e,t){const n=Symbol("context");return{id:n,Provider:N(n),defaultValue:e}}(),Rn="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,Dn=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),$n=(e,t)=>e<<32-t|e>>>t;if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");const jn=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function Nn(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=jn[e[n]];return t}function qn(e){if("string"!=typeof e)throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const t=new Uint8Array(e.length/2);for(let n=0;n<t.length;n++){const r=2*n,i=e.slice(r,r+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");t[n]=o}return t}function Un(e){if("string"==typeof e&&(e=function(e){if("string"!=typeof e)throw new TypeError("utf8ToBytes expected string, got "+typeof e);return(new TextEncoder).encode(e)}(e)),!(e instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof e})`);return e}function Hn(...e){if(!e.every((e=>e instanceof Uint8Array)))throw new Error("Uint8Array list expected");if(1===e.length)return e[0];const t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);for(let r=0,i=0;r<e.length;r++){const t=e[r];n.set(t,i),i+=t.length}return n}class Mn{clone(){return this._cloneInto()}}function Vn(e){const t=t=>e().update(Un(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function Wn(e=32){if(Rn&&"function"==typeof Rn.getRandomValues)return Rn.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}
/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Zn(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function Kn(...e){const t=(e,t)=>n=>e(t(n));return{encode:Array.from(e).reverse().reduce(((e,n)=>e?t(e,n.encode):n.encode),void 0),decode:e.reduce(((e,n)=>e?t(e,n.decode):n.decode),void 0)}}function Yn(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("alphabet.encode input should be an array of numbers");return t.map((t=>{if(Zn(t),t<0||t>=e.length)throw new Error(`Digit index outside alphabet: ${t} (alphabet: ${e.length})`);return e[t]}))},decode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("alphabet.decode input should be array of strings");return t.map((t=>{if("string"!=typeof t)throw new Error(`alphabet.decode: not string element=${t}`);const n=e.indexOf(t);if(-1===n)throw new Error(`Unknown letter: "${t}". Allowed: ${e}`);return n}))}}}function Gn(e=""){if("string"!=typeof e)throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("join.encode input should be array of strings");for(let e of t)if("string"!=typeof e)throw new Error(`join.encode: non-string input=${e}`);return t.join(e)},decode:t=>{if("string"!=typeof t)throw new Error("join.decode input should be string");return t.split(e)}}}function Qn(e,t="="){if(Zn(e),"string"!=typeof t)throw new Error("padding chr should be string");return{encode(n){if(!Array.isArray(n)||n.length&&"string"!=typeof n[0])throw new Error("padding.encode input should be array of strings");for(let e of n)if("string"!=typeof e)throw new Error(`padding.encode: non-string input=${e}`);for(;n.length*e%8;)n.push(t);return n},decode(n){if(!Array.isArray(n)||n.length&&"string"!=typeof n[0])throw new Error("padding.encode input should be array of strings");for(let e of n)if("string"!=typeof e)throw new Error(`padding.decode: non-string input=${e}`);let r=n.length;if(r*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;r>0&&n[r-1]===t;r--)if(!((r-1)*e%8))throw new Error("Invalid padding: string has too much padding");return n.slice(0,r)}}}function Jn(e){if("function"!=typeof e)throw new Error("normalize fn should be function");return{encode:e=>e,decode:t=>e(t)}}function Xn(e,t,n){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: wrong to=${n}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let r=0;const i=[],o=Array.from(e);for(o.forEach((e=>{if(Zn(e),e<0||e>=t)throw new Error(`Wrong integer: ${e}`)}));;){let e=0,s=!0;for(let i=r;i<o.length;i++){const u=o[i],c=t*e+u;if(!Number.isSafeInteger(c)||t*e/t!==e||c-u!=t*e)throw new Error("convertRadix: carry overflow");if(e=c%n,o[i]=Math.floor(c/n),!Number.isSafeInteger(o[i])||o[i]*n+e!==c)throw new Error("convertRadix: carry overflow");s&&(o[i]?s=!1:r=i)}if(i.push(e),s)break}for(let s=0;s<e.length-1&&0===e[s];s++)i.push(0);return i.reverse()}const er=(e,t)=>t?er(t,e%t):e,tr=(e,t)=>e+(t-er(e,t));function nr(e,t,n,r){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(tr(t,n)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${tr(t,n)}`);let i=0,o=0;const s=2**n-1,u=[];for(const c of e){if(Zn(c),c>=2**t)throw new Error(`convertRadix2: invalid data word=${c} from=${t}`);if(i=i<<t|c,o+t>32)throw new Error(`convertRadix2: carry overflow pos=${o} from=${t}`);for(o+=t;o>=n;o-=n)u.push((i>>o-n&s)>>>0);i&=2**o-1}if(i=i<<n-o&s,!r&&o>=t)throw new Error("Excess padding");if(!r&&i)throw new Error(`Non-zero padding: ${i}`);return r&&o>0&&u.push(i>>>0),u}function rr(e,t=!1){if(Zn(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(tr(8,e)>32||tr(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!(n instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return nr(Array.from(n),8,e,!t)},decode:n=>{if(!Array.isArray(n)||n.length&&"number"!=typeof n[0])throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(nr(n,e,8,t))}}}function ir(e){if("function"!=typeof e)throw new Error("unsafeWrapper fn should be function");return function(...t){try{return e.apply(null,t)}catch(n){}}}const or=Kn(rr(4),Yn("0123456789ABCDEF"),Gn("")),sr=Kn(rr(5),Yn("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),Qn(5),Gn(""));Kn(rr(5),Yn("0123456789ABCDEFGHIJKLMNOPQRSTUV"),Qn(5),Gn("")),Kn(rr(5),Yn("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),Gn(""),Jn((e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))));const ur=Kn(rr(6),Yn("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),Qn(6),Gn("")),cr=Kn(rr(6),Yn("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),Qn(6),Gn("")),lr=e=>{return Kn((Zn(t=58),{encode:e=>{if(!(e instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return Xn(Array.from(e),256,t)},decode:e=>{if(!Array.isArray(e)||e.length&&"number"!=typeof e[0])throw new Error("radix.decode input should be array of strings");return Uint8Array.from(Xn(e,t,256))}}),Yn(e),Gn(""));var t},ar=lr("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");lr("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),lr("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const fr=[0,2,3,5,6,7,9,10,11],dr={encode(e){let t="";for(let n=0;n<e.length;n+=8){const r=e.subarray(n,n+8);t+=ar.encode(r).padStart(fr[r.length],"1")}return t},decode(e){let t=[];for(let n=0;n<e.length;n+=11){const r=e.slice(n,n+11),i=fr.indexOf(r.length),o=ar.decode(r);for(let e=0;e<o.length-i;e++)if(0!==o[e])throw new Error("base58xmr: wrong padding");t=t.concat(Array.from(o.slice(o.length-i)))}return Uint8Array.from(t)}},hr=Kn(Yn("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),Gn("")),pr=[996825010,642813549,513874426,1027748829,705979059];function gr(e){const t=e>>25;let n=(33554431&e)<<5;for(let r=0;r<pr.length;r++)1==(t>>r&1)&&(n^=pr[r]);return n}function mr(e,t,n=1){const r=e.length;let i=1;for(let o=0;o<r;o++){const t=e.charCodeAt(o);if(t<33||t>126)throw new Error(`Invalid prefix (${e})`);i=gr(i)^t>>5}i=gr(i);for(let o=0;o<r;o++)i=gr(i)^31&e.charCodeAt(o);for(let o of t)i=gr(i)^o;for(let o=0;o<6;o++)i=gr(i);return i^=n,hr.encode(nr([i%2**30],30,5,!1))}function yr(e){const t="bech32"===e?1:734539939,n=rr(5),r=n.decode,i=n.encode,o=ir(r);function s(e,n=90){if("string"!=typeof e)throw new Error("bech32.decode input should be string, not "+typeof e);if(e.length<8||!1!==n&&e.length>n)throw new TypeError(`Wrong string length: ${e.length} (${e}). Expected (8..${n})`);const r=e.toLowerCase();if(e!==r&&e!==e.toUpperCase())throw new Error("String must be lowercase or uppercase");const i=(e=r).lastIndexOf("1");if(0===i||-1===i)throw new Error('Letter "1" must be present between prefix and data only');const o=e.slice(0,i),s=e.slice(i+1);if(s.length<6)throw new Error("Data must be at least 6 characters long");const u=hr.decode(s).slice(0,-6),c=mr(o,u,t);if(!s.endsWith(c))throw new Error(`Invalid checksum in ${e}: expected "${c}"`);return{prefix:o,words:u}}return{encode:function(e,n,r=90){if("string"!=typeof e)throw new Error("bech32.encode prefix should be string, not "+typeof e);if(!Array.isArray(n)||n.length&&"number"!=typeof n[0])throw new Error("bech32.encode words should be array of numbers, not "+typeof n);const i=e.length+7+n.length;if(!1!==r&&i>r)throw new TypeError(`Length ${i} exceeds limit ${r}`);return`${e=e.toLowerCase()}1${hr.encode(n)}${mr(e,n,t)}`},decode:s,decodeToBytes:function(e){const{prefix:t,words:n}=s(e,!1);return{prefix:t,words:n,bytes:r(n)}},decodeUnsafe:ir(s),fromWords:r,fromWordsUnsafe:o,toWords:i}}const br=yr("bech32");yr("bech32m");const wr={utf8:{encode:e=>(new TextDecoder).decode(e),decode:e=>(new TextEncoder).encode(e)},hex:Kn(rr(4),Yn("0123456789abcdef"),Gn(""),Jn((e=>{if("string"!=typeof e||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()}))),base16:or,base32:sr,base64:ur,base64url:cr,base58:ar,base58xmr:dr};Object.keys(wr).join(", ");const vr=new TextDecoder("utf-8"),xr=new TextEncoder;function Er(e){let t=new URL(e);return t.pathname=t.pathname.replace(/\/+/g,"/"),t.pathname.endsWith("/")&&(t.pathname=t.pathname.slice(0,-1)),("80"===t.port&&"ws:"===t.protocol||"443"===t.port&&"wss:"===t.protocol)&&(t.port=""),t.searchParams.sort(),t.hash="",t.toString()}class kr{constructor(e){t(this,"_value"),t(this,"_next"),this._value=e,this._next=null}get value(){return this._value}set value(e){this._value=e}get next(){return this._next}set next(e){this._next=e}}class Sr{constructor(){t(this,"_first"),t(this,"_last"),t(this,"_size"),this._first=null,this._last=null,this._size=0}get first(){return this._first}set first(e){this._first=e}get last(){return this._last}set last(e){this._last=e}get size(){return this._size}set size(e){this._size=e}enqueue(e){const t=new kr(e);return 0!==this._size&&this._last?(this._last.next=t,this._last=t):(this._first=t,this._last=t),this._size++,!0}dequeue(){if(0===this._size||!this._first)return null;let e=this._first;return this._first=e.next,e.next=null,this._size--,e.value}}const Ar=5e3;function zr(e){var t,n,r,i,o,s,u;let{prefix:c,words:l}=br.decode(e,Ar),a=new Uint8Array(br.fromWords(l));switch(c){case"nprofile":{let e=Br(a);if(!(null==(t=e[0])?void 0:t[0]))throw new Error("missing TLV 0 for nprofile");if(32!==e[0][0].length)throw new Error("TLV 0 should be 32 bytes");return{type:"nprofile",data:{pubkey:Nn(e[0][0]),relays:e[1]?e[1].map((e=>vr.decode(e))):[]}}}case"nevent":{let e=Br(a);if(!(null==(n=e[0])?void 0:n[0]))throw new Error("missing TLV 0 for nevent");if(32!==e[0][0].length)throw new Error("TLV 0 should be 32 bytes");if(e[2]&&32!==e[2][0].length)throw new Error("TLV 2 should be 32 bytes");return{type:"nevent",data:{id:Nn(e[0][0]),relays:e[1]?e[1].map((e=>vr.decode(e))):[],author:(null==(r=e[2])?void 0:r[0])?Nn(e[2][0]):void 0}}}case"naddr":{let e=Br(a);if(!(null==(i=e[0])?void 0:i[0]))throw new Error("missing TLV 0 for naddr");if(!(null==(o=e[2])?void 0:o[0]))throw new Error("missing TLV 2 for naddr");if(32!==e[2][0].length)throw new Error("TLV 2 should be 32 bytes");if(!(null==(s=e[3])?void 0:s[0]))throw new Error("missing TLV 3 for naddr");if(4!==e[3][0].length)throw new Error("TLV 3 should be 4 bytes");return{type:"naddr",data:{identifier:vr.decode(e[0][0]),pubkey:Nn(e[2][0]),kind:parseInt(Nn(e[3][0]),16),relays:e[1]?e[1].map((e=>vr.decode(e))):[]}}}case"nrelay":{let e=Br(a);if(!(null==(u=e[0])?void 0:u[0]))throw new Error("missing TLV 0 for nrelay");return{type:"nrelay",data:vr.decode(e[0][0])}}case"nsec":case"npub":case"note":return{type:c,data:Nn(a)};default:throw new Error(`unknown prefix ${c}`)}}function Br(e){let t={},n=e;for(;n.length>0;){let e=n[0],r=n[1],i=n.slice(2,2+r);n=n.slice(2+r),i.length<r||(t[e]=t[e]||[],t[e].push(i))}return t}function Cr(e){return Ir("npub",e)}function Ir(e,t){let n=qn(t),r=br.toWords(n);return br.encode(e,r,Ar)}function _r(e){let t=new ArrayBuffer(4);new DataView(t).setUint32(0,e.kind,!1);let n=function(e){let t=[];return Object.entries(e).forEach((([e,n])=>{n.forEach((n=>{let r=new Uint8Array(n.length+2);r.set([parseInt(e)],0),r.set([n.length],1),r.set(n,2),t.push(r)}))})),Hn(...t)}({0:[xr.encode(e.identifier)],1:(e.relays||[]).map((e=>xr.encode(e))),2:[qn(e.pubkey)],3:[new Uint8Array(t)]}),r=br.toWords(n);return br.encode("naddr",r,Ar)}const Fr=new RegExp(`nostr:(${/[\x21-\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}/.source})`);function Tr(e,t){return e.replaceAll(new RegExp(`\\b${Fr.source}\\b`,"g"),((e,n)=>t({uri:e,value:n,decoded:zr(n)})))}const Or=e=>{e.forEach((e=>{const t=JSON.parse(e.content);Tn[e.pubkey].timestamp<e.created_at&&(Tn[e.pubkey]={...Tn[e.pubkey],timestamp:e.created_at,imgUrl:t.image||t.picture,name:t.displayName||t.display_name||t.name})}))},Lr=e=>{let t=e.content;return t=t.replace(/\#\[([0-9])\]/g,((t,n)=>{var r;switch(e.tags[n][0]){case"e":return"nostr:"+Ir("note",e.tags[n][1]);case"a":const[i,o,s]=e.tags[n][1].split(":");return"nostr:"+_r({identifier:s,pubkey:o,kind:parseInt(i)});case"p":const u=e.tags[n][1],c=Cr(u);return`[@${(null==(r=Tn[u])?void 0:r.name)||Pr(c)}](https://nostr.com/${c})`;default:return t}})),t=Tr(t,(({decoded:e,value:t})=>`[@${Pr(t)}](https://nostr.com/${t})`)),en(t,{extensions:[fn],htmlExtensions:[bn]})},Pr=e=>e.substring(0,8)+"..."+e.substring(e.length-4),Rr=20,Dr=()=>Math.floor(42*Math.random()),$r='data:image/svg+xml;utf-8,<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><circle cx="512" cy="512" r="512" fill="%23333" fill-rule="evenodd" /></svg>',jr=e=>e.children.reduce(((e,t)=>e+jr(t)),e.children.length);function Nr(e,t){return qr(e.map((n=>{var r,i,o;let s,u;const c=function(e){const t={reply:void 0,root:void 0,mentions:[],profiles:[]},n=[];for(const r of e.tags)"e"===r[0]&&r[1]&&n.push(r),"p"===r[0]&&r[1]&&t.profiles.push({pubkey:r[1],relays:r[2]?[r[2]]:[]});for(let r=0;r<n.length;r++){const i=n[r],[o,s,u,c]=i,l={id:s,relays:u?[u]:[]},a=0===r,f=r===n.length-1;"root"!==c?"reply"!==c?"mention"!==c?!a||e.tags.some((e=>"a"===e[0]))?f?t.reply=l:t.mentions.push(l):t.root=l:t.mentions.push(l):t.reply=l:t.root=l}return t}(n),l=n.tags.find((e=>"a"===e[0]));return t&&l?(s=t.find((e=>e===l[1])),u=null==(r=e.find((e=>{var t,n;return e.id===(null==(t=c.reply)?void 0:t.id)||e.id===(null==(n=c.root)?void 0:n.id)})))?void 0:r.id):(s=null==(i=e.find((e=>{var t;return e.id===(null==(t=c.root)?void 0:t.id)})))?void 0:i.id,u=null==(o=e.find((e=>{var t;return e.id===(null==(t=c.reply)?void 0:t.id)})))?void 0:o.id),{...n,rootId:s,replyId:u,children:[]}})).filter((e=>!t||e.rootId)),t)}function qr(e,t){const n=new Set(e.filter((e=>t?t.includes(e.replyId||e.rootId):void 0===(e.replyId||e.rootId))));e=e.filter((e=>!n.has(e)));for(let r of n)r.children.push(...qr(e,[r.id]));return[...n]}function Ur(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function Hr(e,...t){if(!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new TypeError(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}const Mr={number:Ur,bool:function(e){if("boolean"!=typeof e)throw new Error(`Expected boolean, not ${e}`)},bytes:Hr,hash:function(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");Ur(e.outputLen),Ur(e.blockLen)},exists:function(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")},output:function(e,t){Hr(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}};class Vr extends Mn{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Dn(this.buffer)}update(e){Mr.exists(this);const{view:t,buffer:n,blockLen:r}=this,i=(e=Un(e)).length;for(let o=0;o<i;){const s=Math.min(r-this.pos,i-o);if(s!==r)n.set(e.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===r&&(this.process(t,0),this.pos=0);else{const t=Dn(e);for(;r<=i-o;o+=r)this.process(t,o)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){Mr.exists(this),Mr.output(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>r-o&&(this.process(n,0),o=0);for(let a=o;a<r;a++)t[a]=0;!function(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),u=Number(n&o),c=r?4:0,l=r?0:4;e.setUint32(t+c,s,r),e.setUint32(t+l,u,r)}(n,r-8,BigInt(8*this.length),i),this.process(n,0);const s=Dn(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=u/4,l=this.get();if(c>l.length)throw new Error("_sha2: outputLen bigger than state");for(let a=0;a<c;a++)s.setUint32(4*a,l[a],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:i,destroyed:o,pos:s}=this;return e.length=r,e.pos=s,e.finished=i,e.destroyed=o,r%t&&e.buffer.set(n),e}}const Wr=(e,t,n)=>e&t^e&n^t&n,Zr=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Kr=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Yr=new Uint32Array(64);class Gr extends Vr{constructor(){super(64,32,8,!1),this.A=0|Kr[0],this.B=0|Kr[1],this.C=0|Kr[2],this.D=0|Kr[3],this.E=0|Kr[4],this.F=0|Kr[5],this.G=0|Kr[6],this.H=0|Kr[7]}get(){const{A:e,B:t,C:n,D:r,E:i,F:o,G:s,H:u}=this;return[e,t,n,r,i,o,s,u]}set(e,t,n,r,i,o,s,u){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|o,this.G=0|s,this.H=0|u}process(e,t){for(let f=0;f<16;f++,t+=4)Yr[f]=e.getUint32(t,!1);for(let f=16;f<64;f++){const e=Yr[f-15],t=Yr[f-2],n=$n(e,7)^$n(e,18)^e>>>3,r=$n(t,17)^$n(t,19)^t>>>10;Yr[f]=r+Yr[f-7]+n+Yr[f-16]|0}let{A:n,B:r,C:i,D:o,E:s,F:u,G:c,H:l}=this;for(let f=0;f<64;f++){const e=l+($n(s,6)^$n(s,11)^$n(s,25))+((a=s)&u^~a&c)+Zr[f]+Yr[f]|0,t=($n(n,2)^$n(n,13)^$n(n,22))+Wr(n,r,i)|0;l=c,c=u,u=s,s=o+e|0,o=i,i=r,r=n,n=e+t|0}var a;n=n+this.A|0,r=r+this.B|0,i=i+this.C|0,o=o+this.D|0,s=s+this.E|0,u=u+this.F|0,c=c+this.G|0,l=l+this.H|0,this.set(n,r,i,o,s,u,c,l)}roundClean(){Yr.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class Qr extends Gr{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const Jr=Vn((()=>new Gr));Vn((()=>new Qr));
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const Xr=BigInt(0),ei=BigInt(1),ti=BigInt(2),ni=e=>e instanceof Uint8Array,ri=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function ii(e){if(!ni(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=ri[e[n]];return t}function oi(e){const t=e.toString(16);return 1&t.length?`0${t}`:t}function si(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}function ui(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);if(e.length%2)throw new Error("hex string is invalid: unpadded "+e.length);const t=new Uint8Array(e.length/2);for(let n=0;n<t.length;n++){const r=2*n,i=e.slice(r,r+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("invalid byte sequence");t[n]=o}return t}function ci(e){return si(ii(e))}function li(e){if(!ni(e))throw new Error("Uint8Array expected");return si(ii(Uint8Array.from(e).reverse()))}const ai=(e,t)=>ui(e.toString(16).padStart(2*t,"0")),fi=(e,t)=>ai(e,t).reverse();function di(e,t,n){let r;if("string"==typeof t)try{r=ui(t)}catch(o){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${o}`)}else{if(!ni(t))throw new Error(`${e} must be hex string or Uint8Array`);r=Uint8Array.from(t)}const i=r.length;if("number"==typeof n&&i!==n)throw new Error(`${e} expected ${n} bytes, got ${i}`);return r}function hi(...e){const t=new Uint8Array(e.reduce(((e,t)=>e+t.length),0));let n=0;return e.forEach((e=>{if(!ni(e))throw new Error("Uint8Array expected");t.set(e,n),n+=e.length})),t}function pi(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return(new TextEncoder).encode(e)}const gi=e=>(ti<<BigInt(e-1))-ei,mi=e=>new Uint8Array(e),yi=e=>Uint8Array.from(e);function bi(e,t,n){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof n)throw new Error("hmacFn must be a function");let r=mi(e),i=mi(e),o=0;const s=()=>{r.fill(1),i.fill(0),o=0},u=(...e)=>n(i,r,...e),c=(e=mi())=>{i=u(yi([0]),e),r=u(),0!==e.length&&(i=u(yi([1]),e),r=u())},l=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const n=[];for(;e<t;){r=u();const t=r.slice();n.push(t),e+=r.length}return hi(...n)};return(e,t)=>{let n;for(s(),c(e);!(n=t(l()));)c();return s(),n}}const wi={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function vi(e,t,n={}){const r=(t,n,r)=>{const i=wi[n];if("function"!=typeof i)throw new Error(`Invalid validator "${n}", expected function`);const o=e[t];if(!(r&&void 0===o||i(o,e)))throw new Error(`Invalid param ${String(t)}=${o} (${typeof o}), expected ${n}`)};for(const[i,o]of Object.entries(t))r(i,o,!1);for(const[i,o]of Object.entries(n))r(i,o,!0);return e}const xi=Object.freeze(Object.defineProperty({__proto__:null,bitGet:(e,t)=>e>>BigInt(t)&ei,bitLen:function(e){let t;for(t=0;e>Xr;e>>=ei,t+=1);return t},bitMask:gi,bitSet:(e,t,n)=>e|(n?ei:Xr)<<BigInt(t),bytesToHex:ii,bytesToNumberBE:ci,bytesToNumberLE:li,concatBytes:hi,createHmacDrbg:bi,ensureBytes:di,equalBytes:function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0},hexToBytes:ui,hexToNumber:si,numberToBytesBE:ai,numberToBytesLE:fi,numberToHexUnpadded:oi,numberToVarBytesBE:e=>ui(oi(e)),utf8ToBytes:pi,validateObject:vi},Symbol.toStringTag,{value:"Module"})),Ei=BigInt(0),ki=BigInt(1),Si=BigInt(2),Ai=BigInt(3),zi=BigInt(4),Bi=BigInt(5),Ci=BigInt(8);
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Ii(e,t){const n=e%t;return n>=Ei?n:t+n}function _i(e,t,n){if(n<=Ei||t<Ei)throw new Error("Expected power/modulo > 0");if(n===ki)return Ei;let r=ki;for(;t>Ei;)t&ki&&(r=r*e%n),e=e*e%n,t>>=ki;return r}function Fi(e,t,n){let r=e;for(;t-- >Ei;)r*=r,r%=n;return r}function Ti(e,t){if(e===Ei||t<=Ei)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=Ii(e,t),r=t,i=Ei,o=ki;for(;n!==Ei;){const e=r%n,t=i-o*(r/n);r=n,n=e,i=o,o=t}if(r!==ki)throw new Error("invert: does not exist");return Ii(i,t)}function Oi(e){if(e%zi===Ai){const t=(e+ki)/zi;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}if(e%Ci===Bi){const t=(e-Bi)/Ci;return function(e,n){const r=e.mul(n,Si),i=e.pow(r,t),o=e.mul(n,i),s=e.mul(e.mul(o,Si),i),u=e.mul(o,e.sub(s,e.ONE));if(!e.eql(e.sqr(u),n))throw new Error("Cannot find square root");return u}}return function(e){const t=(e-ki)/Si;let n,r,i;for(n=e-ki,r=0;n%Si===Ei;n/=Si,r++);for(i=Si;i<e&&_i(i,t,e)!==e-ki;i++);if(1===r){const t=(e+ki)/zi;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}const o=(n+ki)/Si;return function(e,s){if(e.pow(s,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let u=r,c=e.pow(e.mul(e.ONE,i),n),l=e.pow(s,o),a=e.pow(s,n);for(;!e.eql(a,e.ONE);){if(e.eql(a,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(a);t<u&&!e.eql(r,e.ONE);t++)r=e.sqr(r);const n=e.pow(c,ki<<BigInt(u-t-1));c=e.sqr(n),l=e.mul(l,n),a=e.mul(a,c),u=t}return l}}(e)}BigInt(9),BigInt(16);const Li=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Pi(e){return vi(e,Li.reduce(((e,t)=>(e[t]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"}))}function Ri(e,t){const n=void 0!==t?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const Di=BigInt(0),$i=BigInt(1);function ji(e){return Pi(e.Fp),vi(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Ri(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const{bytesToNumberBE:Ni,hexToBytes:qi}=xi,Ui={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(e){const{Err:t}=Ui;if(e.length<2||2!==e[0])throw new t("Invalid signature integer tag");const n=e[1],r=e.subarray(2,n+2);if(!n||r.length!==n)throw new t("Invalid signature integer: wrong length");if(128&r[0])throw new t("Invalid signature integer: negative");if(0===r[0]&&!(128&r[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:Ni(r),l:e.subarray(n+2)}},toSig(e){const{Err:t}=Ui,n="string"==typeof e?qi(e):e;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||48!=n[0])throw new t("Invalid signature tag");if(n[1]!==r-2)throw new t("Invalid signature: incorrect length");const{d:i,l:o}=Ui._parseInt(n.subarray(2)),{d:s,l:u}=Ui._parseInt(o);if(u.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s:s}},hexFromSig(e){const t=e=>8&Number.parseInt(e[0],16)?"00"+e:e,n=e=>{const t=e.toString(16);return 1&t.length?`0${t}`:t},r=t(n(e.s)),i=t(n(e.r)),o=r.length/2,s=i.length/2,u=n(o),c=n(s);return`30${n(s+o+4)}02${c}${i}02${u}${r}`}},Hi=BigInt(0),Mi=BigInt(1),Vi=BigInt(2),Wi=BigInt(3),Zi=BigInt(4);function Ki(e){const t=function(e){const t=ji(e);vi(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=t;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof n||"bigint"!=typeof n.beta||"function"!=typeof n.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:n}=t,r=t.toBytes||((e,t,r)=>{const i=t.toAffine();return hi(Uint8Array.from([4]),n.toBytes(i.x),n.toBytes(i.y))}),i=t.fromBytes||(e=>{const t=e.subarray(1);return{x:n.fromBytes(t.subarray(0,n.BYTES)),y:n.fromBytes(t.subarray(n.BYTES,2*n.BYTES))}});function o(e){const{a:r,b:i}=t,o=n.sqr(e),s=n.mul(o,e);return n.add(n.add(s,n.mul(e,r)),i)}if(!n.eql(n.sqr(t.Gy),o(t.Gx)))throw new Error("bad generator point: equation left != right");function s(e){return"bigint"==typeof e&&Hi<e&&e<t.n}function u(e){if(!s(e))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(e){const{allowedPrivateKeyLengths:n,nByteLength:r,wrapPrivateKey:i,n:o}=t;if(n&&"bigint"!=typeof e){if(e instanceof Uint8Array&&(e=ii(e)),"string"!=typeof e||!n.includes(e.length))throw new Error("Invalid key");e=e.padStart(2*r,"0")}let s;try{s="bigint"==typeof e?e:ci(di("private key",e,r))}catch(c){throw new Error(`private key must be ${r} bytes, hex or bigint, not ${typeof e}`)}return i&&(s=Ii(s,o)),u(s),s}const l=new Map;function a(e){if(!(e instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(e,t,r){if(this.px=e,this.py=t,this.pz=r,null==e||!n.isValid(e))throw new Error("x required");if(null==t||!n.isValid(t))throw new Error("y required");if(null==r||!n.isValid(r))throw new Error("z required")}static fromAffine(e){const{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw new Error("invalid affine point");if(e instanceof f)throw new Error("projective point not allowed");const i=e=>n.eql(e,n.ZERO);return i(t)&&i(r)?f.ZERO:new f(t,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=n.invertBatch(e.map((e=>e.pz)));return e.map(((e,n)=>e.toAffine(t[n]))).map(f.fromAffine)}static fromHex(e){const t=f.fromAffine(i(di("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return f.BASE.multiply(c(e))}_setWindowSize(e){this._WINDOW_SIZE=e,l.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint)return;throw new Error("bad point: ZERO")}const{x:e,y:r}=this.toAffine();if(!n.isValid(e)||!n.isValid(r))throw new Error("bad point: x or y not FE");const i=n.sqr(r),s=o(e);if(!n.eql(i,s))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:e}=this.toAffine();if(n.isOdd)return!n.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){a(e);const{px:t,py:r,pz:i}=this,{px:o,py:s,pz:u}=e,c=n.eql(n.mul(t,u),n.mul(o,i)),l=n.eql(n.mul(r,u),n.mul(s,i));return c&&l}negate(){return new f(this.px,n.neg(this.py),this.pz)}double(){const{a:e,b:r}=t,i=n.mul(r,Wi),{px:o,py:s,pz:u}=this;let c=n.ZERO,l=n.ZERO,a=n.ZERO,d=n.mul(o,o),h=n.mul(s,s),p=n.mul(u,u),g=n.mul(o,s);return g=n.add(g,g),a=n.mul(o,u),a=n.add(a,a),c=n.mul(e,a),l=n.mul(i,p),l=n.add(c,l),c=n.sub(h,l),l=n.add(h,l),l=n.mul(c,l),c=n.mul(g,c),a=n.mul(i,a),p=n.mul(e,p),g=n.sub(d,p),g=n.mul(e,g),g=n.add(g,a),a=n.add(d,d),d=n.add(a,d),d=n.add(d,p),d=n.mul(d,g),l=n.add(l,d),p=n.mul(s,u),p=n.add(p,p),d=n.mul(p,g),c=n.sub(c,d),a=n.mul(p,h),a=n.add(a,a),a=n.add(a,a),new f(c,l,a)}add(e){a(e);const{px:r,py:i,pz:o}=this,{px:s,py:u,pz:c}=e;let l=n.ZERO,d=n.ZERO,h=n.ZERO;const p=t.a,g=n.mul(t.b,Wi);let m=n.mul(r,s),y=n.mul(i,u),b=n.mul(o,c),w=n.add(r,i),v=n.add(s,u);w=n.mul(w,v),v=n.add(m,y),w=n.sub(w,v),v=n.add(r,o);let x=n.add(s,c);return v=n.mul(v,x),x=n.add(m,b),v=n.sub(v,x),x=n.add(i,o),l=n.add(u,c),x=n.mul(x,l),l=n.add(y,b),x=n.sub(x,l),h=n.mul(p,v),l=n.mul(g,b),h=n.add(l,h),l=n.sub(y,h),h=n.add(y,h),d=n.mul(l,h),y=n.add(m,m),y=n.add(y,m),b=n.mul(p,b),v=n.mul(g,v),y=n.add(y,b),b=n.sub(m,b),b=n.mul(p,b),v=n.add(v,b),m=n.mul(y,v),d=n.add(d,m),m=n.mul(x,v),l=n.mul(w,l),l=n.sub(l,m),m=n.mul(w,y),h=n.mul(x,h),h=n.add(h,m),new f(l,d,h)}subtract(e){return this.add(e.negate())}is0(){return this.equals(f.ZERO)}wNAF(e){return h.wNAFCached(this,l,e,(e=>{const t=n.invertBatch(e.map((e=>e.pz)));return e.map(((e,n)=>e.toAffine(t[n]))).map(f.fromAffine)}))}multiplyUnsafe(e){const r=f.ZERO;if(e===Hi)return r;if(u(e),e===Mi)return this;const{endo:i}=t;if(!i)return h.unsafeLadder(this,e);let{k1neg:o,k1:s,k2neg:c,k2:l}=i.splitScalar(e),a=r,d=r,p=this;for(;s>Hi||l>Hi;)s&Mi&&(a=a.add(p)),l&Mi&&(d=d.add(p)),p=p.double(),s>>=Mi,l>>=Mi;return o&&(a=a.negate()),c&&(d=d.negate()),d=new f(n.mul(d.px,i.beta),d.py,d.pz),a.add(d)}multiply(e){u(e);let r,i,o=e;const{endo:s}=t;if(s){const{k1neg:e,k1:t,k2neg:u,k2:c}=s.splitScalar(o);let{p:l,f:a}=this.wNAF(t),{p:d,f:p}=this.wNAF(c);l=h.constTimeNegate(e,l),d=h.constTimeNegate(u,d),d=new f(n.mul(d.px,s.beta),d.py,d.pz),r=l.add(d),i=a.add(p)}else{const{p:e,f:t}=this.wNAF(o);r=e,i=t}return f.normalizeZ([r,i])[0]}multiplyAndAddUnsafe(e,t,n){const r=f.BASE,i=(e,t)=>t!==Hi&&t!==Mi&&e.equals(r)?e.multiply(t):e.multiplyUnsafe(t),o=i(this,t).add(i(e,n));return o.is0()?void 0:o}toAffine(e){const{px:t,py:r,pz:i}=this,o=this.is0();null==e&&(e=o?n.ONE:n.inv(i));const s=n.mul(t,e),u=n.mul(r,e),c=n.mul(i,e);if(o)return{x:n.ZERO,y:n.ZERO};if(!n.eql(c,n.ONE))throw new Error("invZ was invalid");return{x:s,y:u}}isTorsionFree(){const{h:e,isTorsionFree:n}=t;if(e===Mi)return!0;if(n)return n(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:n}=t;return e===Mi?this:n?n(f,this):this.multiplyUnsafe(t.h)}toRawBytes(e=!0){return this.assertValidity(),r(f,this,e)}toHex(e=!0){return ii(this.toRawBytes(e))}}f.BASE=new f(t.Gx,t.Gy,n.ONE),f.ZERO=new f(n.ZERO,n.ONE,n.ZERO);const d=t.nBitLength,h=function(e,t){const n=(e,t)=>{const n=t.negate();return e?n:t},r=e=>({windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:n,unsafeLadder(t,n){let r=e.ZERO,i=t;for(;n>Di;)n&$i&&(r=r.add(i)),i=i.double(),n>>=$i;return r},precomputeWindow(e,t){const{windows:n,windowSize:i}=r(t),o=[];let s=e,u=s;for(let r=0;r<n;r++){u=s,o.push(u);for(let e=1;e<i;e++)u=u.add(s),o.push(u);s=u.double()}return o},wNAF(t,i,o){const{windows:s,windowSize:u}=r(t);let c=e.ZERO,l=e.BASE;const a=BigInt(2**t-1),f=2**t,d=BigInt(t);for(let e=0;e<s;e++){const t=e*u;let r=Number(o&a);o>>=d,r>u&&(r-=f,o+=$i);const s=t,h=t+Math.abs(r)-1,p=e%2!=0,g=r<0;0===r?l=l.add(n(p,i[s])):c=c.add(n(g,i[h]))}return{p:c,f:l}},wNAFCached(e,t,n,r){const i=e._WINDOW_SIZE||1;let o=t.get(e);return o||(o=this.precomputeWindow(e,i),1!==i&&t.set(e,r(o))),this.wNAF(i,o,n)}}}(f,t.endo?Math.ceil(d/2):d);return{CURVE:t,ProjectivePoint:f,normPrivateKeyToScalar:c,weierstrassEquation:o,isWithinCurveOrder:s}}function Yi(e){const t=function(e){const t=ji(e);return vi(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:n,n:r}=t,i=n.BYTES+1,o=2*n.BYTES+1;function s(e){return Ii(e,r)}function u(e){return Ti(e,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:l,weierstrassEquation:a,isWithinCurveOrder:f}=Ki({...t,toBytes(e,t,r){const i=t.toAffine(),o=n.toBytes(i.x),s=hi;return r?s(Uint8Array.from([t.hasEvenY()?2:3]),o):s(Uint8Array.from([4]),o,n.toBytes(i.y))},fromBytes(e){const t=e.length,r=e[0],s=e.subarray(1);if(t!==i||2!==r&&3!==r){if(t===o&&4===r){return{x:n.fromBytes(s.subarray(0,n.BYTES)),y:n.fromBytes(s.subarray(n.BYTES,2*n.BYTES))}}throw new Error(`Point of length ${t} was invalid. Expected ${i} compressed bytes or ${o} uncompressed bytes`)}{const e=ci(s);if(!(Hi<(u=e)&&u<n.ORDER))throw new Error("Point is not on curve");const t=a(e);let i=n.sqrt(t);return 1==(1&r)!==((i&Mi)===Mi)&&(i=n.neg(i)),{x:e,y:i}}var u}}),d=e=>ii(ai(e,t.nByteLength));function h(e){return e>r>>Mi}const p=(e,t,n)=>ci(e.slice(t,n));class g{constructor(e,t,n){this.r=e,this.s=t,this.recovery=n,this.assertValidity()}static fromCompact(e){const n=t.nByteLength;return e=di("compactSignature",e,2*n),new g(p(e,0,n),p(e,n,2*n))}static fromDER(e){const{r:t,s:n}=Ui.toSig(di("DER",e));return new g(t,n)}assertValidity(){if(!f(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!f(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new g(this.r,this.s,e)}recoverPublicKey(e){const{r:r,s:i,recovery:o}=this,l=w(di("msgHash",e));if(null==o||![0,1,2,3].includes(o))throw new Error("recovery id invalid");const a=2===o||3===o?r+t.n:r;if(a>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const f=0==(1&o)?"02":"03",h=c.fromHex(f+d(a)),p=u(a),g=s(-l*p),m=s(i*p),y=c.BASE.multiplyAndAddUnsafe(h,g,m);if(!y)throw new Error("point at infinify");return y.assertValidity(),y}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,s(-this.s),this.recovery):this}toDERRawBytes(){return ui(this.toDERHex())}toDERHex(){return Ui.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return ui(this.toCompactHex())}toCompactHex(){return d(this.r)+d(this.s)}}const m={isValidPrivateKey(e){try{return l(e),!0}catch(t){return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const e=function(e,t,n=!1){const r=(e=di("privateHash",e)).length,i=Ri(t).nByteLength+8;if(i<24||r<i||r>1024)throw new Error(`hashToPrivateScalar: expected ${i}-1024 bytes of input, got ${r}`);return Ii(n?li(e):ci(e),t-ki)+ki}(t.randomBytes(n.BYTES+8),r);return ai(e,t.nByteLength)},precompute:(e=8,t=c.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)};function y(e){const t=e instanceof Uint8Array,n="string"==typeof e,r=(t||n)&&e.length;return t?r===i||r===o:n?r===2*i||r===2*o:e instanceof c}const b=t.bits2int||function(e){const n=ci(e),r=8*e.length-t.nBitLength;return r>0?n>>BigInt(r):n},w=t.bits2int_modN||function(e){return s(b(e))},v=gi(t.nBitLength);function x(e){if("bigint"!=typeof e)throw new Error("bigint expected");if(!(Hi<=e&&e<v))throw new Error(`bigint expected < 2^${t.nBitLength}`);return ai(e,t.nByteLength)}function E(e,r,i=k){if(["recovered","canonical"].some((e=>e in i)))throw new Error("sign() legacy options not supported");const{hash:o,randomBytes:a}=t;let{lowS:d,prehash:p,extraEntropy:m}=i;null==d&&(d=!0),e=di("msgHash",e),p&&(e=di("prehashed msgHash",o(e)));const y=w(e),v=l(r),E=[x(v),x(y)];if(null!=m){const e=!0===m?a(n.BYTES):m;E.push(di("extraEntropy",e,n.BYTES))}const S=hi(...E),A=y;return{seed:S,k2sig:function(e){const t=b(e);if(!f(t))return;const n=u(t),r=c.BASE.multiply(t).toAffine(),i=s(r.x);if(i===Hi)return;const o=s(n*s(A+i*v));if(o===Hi)return;let l=(r.x===i?0:2)|Number(r.y&Mi),a=o;return d&&h(o)&&(a=function(e){return h(e)?s(-e):e}(o),l^=1),new g(i,a,l)}}}const k={lowS:t.lowS,prehash:!1},S={lowS:t.lowS,prehash:!1};return c.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e,t=!0){return c.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,n=!0){if(y(e))throw new Error("first arg must be private key");if(!y(t))throw new Error("second arg must be public key");return c.fromHex(t).multiply(l(e)).toRawBytes(n)},sign:function(e,n,r=k){const{seed:i,k2sig:o}=E(e,n,r);return bi(t.hash.outputLen,t.nByteLength,t.hmac)(i,o)},verify:function(e,n,r,i=S){var o;const l=e;if(n=di("msgHash",n),r=di("publicKey",r),"strict"in i)throw new Error("options.strict was renamed to lowS");const{lowS:a,prehash:f}=i;let d,h;try{if("string"==typeof l||l instanceof Uint8Array)try{d=g.fromDER(l)}catch(k){if(!(k instanceof Ui.Err))throw k;d=g.fromCompact(l)}else{if("object"!=typeof l||"bigint"!=typeof l.r||"bigint"!=typeof l.s)throw new Error("PARSE");{const{r:e,s:t}=l;d=new g(e,t)}}h=c.fromHex(r)}catch(A){if("PARSE"===A.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(a&&d.hasHighS())return!1;f&&(n=t.hash(n));const{r:p,s:m}=d,y=w(n),b=u(m),v=s(y*b),x=s(p*b),E=null==(o=c.BASE.multiplyAndAddUnsafe(h,v,x))?void 0:o.toAffine();return!!E&&s(E.x)===p},ProjectivePoint:c,Signature:g,utils:m}}class Gi extends Mn{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,Mr.hash(e);const n=Un(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,i=new Uint8Array(r);i.set(n.length>r?e.create().update(n).digest():n);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return Mr.exists(this),this.iHash.update(e),this}digestInto(e){Mr.exists(this),Mr.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:i,blockLen:o,outputLen:s}=this;return e.finished=r,e.destroyed=i,e.blockLen=o,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Qi=(e,t,n)=>new Gi(e,t).update(n).digest();
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
function Ji(e){return{hash:e,hmac:(t,...n)=>Qi(e,t,Hn(...n)),randomBytes:Wn}}Qi.create=(e,t)=>new Gi(e,t);
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const Xi=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),eo=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),to=BigInt(1),no=BigInt(2),ro=(e,t)=>(e+t/no)/t;function io(e){const t=Xi,n=BigInt(3),r=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),u=BigInt(44),c=BigInt(88),l=e*e*e%t,a=l*l*e%t,f=Fi(a,n,t)*a%t,d=Fi(f,n,t)*a%t,h=Fi(d,no,t)*l%t,p=Fi(h,i,t)*h%t,g=Fi(p,o,t)*p%t,m=Fi(g,u,t)*g%t,y=Fi(m,c,t)*m%t,b=Fi(y,u,t)*g%t,w=Fi(b,n,t)*a%t,v=Fi(w,s,t)*p%t,x=Fi(v,r,t)*l%t,E=Fi(x,no,t);if(!oo.eql(oo.sqr(E),e))throw new Error("Cannot find square root");return E}const oo=function(e,t,n=!1,r={}){if(e<=Ei)throw new Error(`Expected Fp ORDER > 0, got ${e}`);const{nBitLength:i,nByteLength:o}=Ri(e,t);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");const s=Oi(e),u=Object.freeze({ORDER:e,BITS:i,BYTES:o,MASK:gi(i),ZERO:Ei,ONE:ki,create:t=>Ii(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("Invalid field element: expected bigint, got "+typeof t);return Ei<=t&&t<e},is0:e=>e===Ei,isOdd:e=>(e&ki)===ki,neg:t=>Ii(-t,e),eql:(e,t)=>e===t,sqr:t=>Ii(t*t,e),add:(t,n)=>Ii(t+n,e),sub:(t,n)=>Ii(t-n,e),mul:(t,n)=>Ii(t*n,e),pow:(e,t)=>function(e,t,n){if(n<Ei)throw new Error("Expected power > 0");if(n===Ei)return e.ONE;if(n===ki)return t;let r=e.ONE,i=t;for(;n>Ei;)n&ki&&(r=e.mul(r,i)),i=e.sqr(i),n>>=ki;return r}(u,e,t),div:(t,n)=>Ii(t*Ti(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>Ti(t,e),sqrt:r.sqrt||(e=>s(u,e)),invertBatch:e=>function(e,t){const n=new Array(t.length),r=t.reduce(((t,r,i)=>e.is0(r)?t:(n[i]=t,e.mul(t,r))),e.ONE),i=e.inv(r);return t.reduceRight(((t,r,i)=>e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r))),i),n}(u,e),cmov:(e,t,n)=>n?t:e,toBytes:e=>n?fi(e,o):ai(e,o),fromBytes:e=>{if(e.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${e.length}`);return n?li(e):ci(e)}});return Object.freeze(u)}(Xi,void 0,void 0,{sqrt:io}),so=function(e,t){const n=t=>Yi({...e,...Ji(t)});return Object.freeze({...n(t),create:n})}({a:BigInt(0),b:BigInt(7),Fp:oo,n:eo,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=eo,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-to*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,s=BigInt("0x100000000000000000000000000000000"),u=ro(o*e,t),c=ro(-r*e,t);let l=Ii(e-u*n-c*i,t),a=Ii(-u*r-c*o,t);const f=l>s,d=a>s;if(f&&(l=t-l),d&&(a=t-a),l>s||a>s)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:f,k1:l,k2neg:d,k2:a}}}},Jr),uo=BigInt(0),co=e=>"bigint"==typeof e&&uo<e&&e<Xi,lo=e=>"bigint"==typeof e&&uo<e&&e<eo,ao={};function fo(e,...t){let n=ao[e];if(void 0===n){const t=Jr(Uint8Array.from(e,(e=>e.charCodeAt(0))));n=hi(t,t),ao[e]=n}return Jr(hi(n,...t))}const ho=e=>e.toRawBytes(!0).slice(1),po=e=>ai(e,32),go=e=>Ii(e,Xi),mo=e=>Ii(e,eo),yo=so.ProjectivePoint,bo=(e,t,n)=>yo.BASE.multiplyAndAddUnsafe(e,t,n);function wo(e){let t=so.utils.normPrivateKeyToScalar(e),n=yo.fromPrivateKey(t);return{scalar:n.hasEvenY()?t:mo(-t),bytes:ho(n)}}function vo(e){if(!co(e))throw new Error("bad x: need 0 < x < p");const t=go(e*e);let n=io(go(t*e+BigInt(7)));n%no!==uo&&(n=go(-n));const r=new yo(e,n,to);return r.assertValidity(),r}function xo(...e){return mo(ci(fo("BIP0340/challenge",...e)))}function Eo(e,t,n){const r=di("signature",e,64),i=di("message",t),o=di("publicKey",n,32);try{const e=vo(ci(o)),t=ci(r.subarray(0,32));if(!co(t))return!1;const n=ci(r.subarray(32,64));if(!lo(n))return!1;const s=xo(po(t),ho(e),i),u=bo(e,n,mo(-s));return!(!u||!u.hasEvenY()||u.toAffine().x!==t)}catch(s){return!1}}const ko={getPublicKey:function(e){return wo(e).bytes},sign:function(e,t,n=Wn(32)){const r=di("message",e),{bytes:i,scalar:o}=wo(t),s=di("auxRand",n,32),u=po(o^ci(fo("BIP0340/aux",s))),c=fo("BIP0340/nonce",u,i,r),l=mo(ci(c));if(l===uo)throw new Error("sign failed: k is zero");const{bytes:a,scalar:f}=wo(l),d=xo(a,i,r),h=new Uint8Array(64);if(h.set(a,0),h.set(po(mo(f+d*o)),32),!Eo(h,r,i))throw new Error("sign: Invalid signature produced");return h},verify:Eo,utils:{randomPrivateKey:so.utils.randomPrivateKey,lift_x:vo,pointToBytes:ho,numberToBytesBE:ai,bytesToNumberBE:ci,taggedHash:fo,mod:Ii}},So=function(e,t){const n=t.map((e=>Array.from(e).reverse()));return(t,r)=>{const[i,o,s,u]=n.map((n=>n.reduce(((n,r)=>e.add(e.mul(n,t),r)))));return t=e.div(i,o),r=e.mul(r,e.div(s,u)),{x:t,y:r}}}(oo,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map((e=>e.map((e=>BigInt(e)))))),Ao=function(e,t){if(Pi(e),!e.isValid(t.A)||!e.isValid(t.B)||!e.isValid(t.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const n=function(e,t){const n=e.ORDER;let r=Hi;for(let d=n-Mi;d%Vi===Hi;d/=Vi)r+=Mi;const i=r,o=(n-Mi)/Vi**i,s=(o-Mi)/Vi,u=Vi**i-Mi,c=Vi**(i-Mi),l=e.pow(t,o),a=e.pow(t,(o+Mi)/Vi);let f=(t,n)=>{let r=l,o=e.pow(n,u),f=e.sqr(o);f=e.mul(f,n);let d=e.mul(t,f);d=e.pow(d,s),d=e.mul(d,o),o=e.mul(d,n),f=e.mul(d,t);let h=e.mul(f,o);d=e.pow(h,c);let p=e.eql(d,e.ONE);o=e.mul(f,a),d=e.mul(h,r),f=e.cmov(o,f,p),h=e.cmov(d,h,p);for(let s=i;s>Mi;s--){let t=Vi**(s-Vi),n=e.pow(h,t);const i=e.eql(n,e.ONE);o=e.mul(f,r),r=e.mul(r,r),n=e.mul(h,r),f=e.cmov(o,f,i),h=e.cmov(n,h,i)}return{isValid:p,value:f}};if(e.ORDER%Zi===Wi){const n=(e.ORDER-Wi)/Zi,r=e.sqrt(e.neg(t));f=(t,i)=>{let o=e.sqr(i);const s=e.mul(t,i);o=e.mul(o,s);let u=e.pow(o,n);u=e.mul(u,s);const c=e.mul(u,r),l=e.mul(e.sqr(u),i),a=e.eql(l,t);return{isValid:a,value:e.cmov(c,u,a)}}}return f}(e,t.Z);if(!e.isOdd)throw new Error("Fp.isOdd is not implemented!");return r=>{let i,o,s,u,c,l,a,f;i=e.sqr(r),i=e.mul(i,t.Z),o=e.sqr(i),o=e.add(o,i),s=e.add(o,e.ONE),s=e.mul(s,t.B),u=e.cmov(t.Z,e.neg(o),!e.eql(o,e.ZERO)),u=e.mul(u,t.A),o=e.sqr(s),l=e.sqr(u),c=e.mul(l,t.A),o=e.add(o,c),o=e.mul(o,s),l=e.mul(l,u),c=e.mul(l,t.B),o=e.add(o,c),a=e.mul(i,s);const{isValid:d,value:h}=n(o,l);f=e.mul(i,r),f=e.mul(f,h),a=e.cmov(a,s,d),f=e.cmov(f,h,d);const p=e.isOdd(r)===e.isOdd(f);return f=e.cmov(e.neg(f),f,p),a=e.div(a,u),{x:a,y:f}}}(oo,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:oo.create(BigInt("-11"))});function zo(e){return Nn(Jr(xr.encode(function(e){if(!Co(e))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content])}(e))))}!function(e,t,n){if("function"!=typeof t)throw new Error("mapToCurve() must be defined")}(so.ProjectivePoint,(e=>{const{x:t,y:n}=Ao(oo.create(e[0]));return So(t,n)}),{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:oo.ORDER,m:1,k:128,expand:"xmd",hash:Jr});const Bo=e=>e instanceof Object;function Co(e){if(!Bo(e))return!1;if("number"!=typeof e.kind)return!1;if("string"!=typeof e.content)return!1;if("number"!=typeof e.created_at)return!1;if("string"!=typeof e.pubkey)return!1;if(!e.pubkey.match(/^[a-f0-9]{64}$/))return!1;if(!Array.isArray(e.tags))return!1;for(let t=0;t<e.tags.length;t++){let n=e.tags[t];if(!Array.isArray(n))return!1;for(let e=0;e<n.length;e++)if("object"==typeof n[e])return!1}return!0}function Io(e,t){return Nn(ko.sign(zo(e),t))}const _o=K('<div class="ztr-reply-form"><textarea placeholder="Add your comment..."></textarea><div class="ztr-reply-controls"><div class="ztr-comment-info-picture"><img></div><button class="ztr-reply-button">Reply'),Fo=K('<span class="ztr-reply-error">Publishing is disabled'),To=K('<span class="ztr-reply-error">'),Oo=K('<svg class="ztr-spinner" viewBox="0 0 50 50"><circle class="path" cx="25" cy="25" r="20" fill="none" stroke-width="5">'),Lo=K('<button class="ztr-reply-login-button">Log-in'),Po=K('<li class="ztr-comment-action-zap"><a><svg viewBox="0 -2 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M18,11.74a1,1,0,0,0-.52-.63L14.09,9.43,15,3.14a1,1,0,0,0-1.78-.75l-7,9a1,1,0,0,0-.17.87,1,1,0,0,0,.59.67l4.27,1.71L10,20.86a1,1,0,0,0,.63,1.07A.92.92,0,0,0,11,22a1,1,0,0,0,.83-.45l6-9A1,1,0,0,0,18,11.74Z"></path></svg></a><span> sats'),Ro=K('<li class="ztr-comment-action-like"><a><svg viewBox="0 -16 180 180" xmlns="http://www.w3.org/2000/svg"><path d="M60.732 29.7C41.107 29.7 22 39.7 22 67.41c0 27.29 45.274 67.29 74 94.89 28.744-27.6 74-67.6 74-94.89 0-27.71-19.092-37.71-38.695-37.71C116 29.7 104.325 41.575 96 54.066 87.638 41.516 76 29.7 60.732 29.7z"></path></svg></a><span> likes'),Do=K('<div class="ztr-comment-new"><div class="ztr-comment-body"><ul class="ztr-comment-actions">'),$o=e=>{const{pool:t,relays:n,filter:r,pubkey:i}=function(e){let t;return void 0!==(t=$(l,e.id))?t:e.defaultValue}(Pn),[o,s]=y(""),[u,c]=y(!1),[a,f]=y("");w((()=>{var e;i()&&!(null==(e=Tn[i()])?void 0:e.loggedIn)&&(p(),h()),!i()&&d()&&p()}));const d=()=>Object.values(Tn).find((e=>!0===e.loggedIn)),h=async()=>{const e=i()||await window.nostr.getPublicKey();if(e){if(Tn[e]={timestamp:0,loggedIn:!0,npub:Cr(e),signEvent:async e=>window.nostr.signEvent(e)},!Tn[e].name){const r=await t.list(n(),[{kinds:[0],authors:[e]}]);Or(r)}}else alert("Access was denied")},p=()=>{const e=d();e&&(e.loggedIn=!1)},g=async i=>{if(!i&&!Tn.anonymous){const e=Nn(ko.utils.randomPrivateKey());i=Tn.anonymous={timestamp:0,npub:Cr((u=e,Nn(ko.getPublicKey(u)))),signEvent:async t=>({sig:Io(t,e)})}}var u;if(!i.signEvent)return;const l=o().trim();if(!l)return;const a={kind:1,created_at:Math.round(Date.now()/1e3),content:l,pubkey:zr(i.npub).data.toString(),tags:[]};if(a.tags.push((e=>e["#e"]?["e",e["#e"][0],"","root"]:["a",e["#a"][0],"","root"])(r())),e.replyTo){const t=["e",e.replyTo,"","reply"];a.tags.push(t)}const d=zo(a),h=await i.signEvent(a),p={id:d,...a,...h},g=()=>{var t;c(!1),s(""),f(""),On[p.id]=p,null==(t=e.onDone)||t.call(globalThis)},m=()=>{c(!1),f("Your comment was not published to relays. Try again.")};if(c(!0),console.log(JSON.stringify(p,null,2)),Ln.disablePublish)setTimeout((()=>{g()}),1500);else{const e=t.publish(n(),p);e.on("ok",(()=>{g(),e.off("ok",g)})),e.on("failed",(()=>{m(),e.off("failed",m)}))}};return(()=>{const e=_o(),t=e.firstChild,n=t.nextSibling,r=n.firstChild,i=r.firstChild,c=r.nextSibling,l=c.firstChild;return t.addEventListener("change",(e=>s(e.target.value))),t.autofocus=!0,Q(n,(()=>{const e=v((()=>!!Ln.disablePublish));return()=>e()&&Fo()})(),r),Q(n,(()=>{const e=v((()=>!!a()));return()=>e()&&(()=>{const e=To();return Q(e,a),e})()})(),r),c.$$click=()=>g(d()||Tn.anonymous),Q(c,(()=>{const e=v((()=>!!u()));return()=>e()&&Oo()})(),l),Q(c,(()=>u()?"ing":""),null),Q(c,(()=>{const e=v((()=>!!d()));return()=>e()?` as ${d().name||Pr(d().npub)}`:" anonymously"})(),null),Q(n,(()=>{const e=v((()=>!(d()||!window.nostr)));return()=>e()&&(()=>{const e=Lo();return e.$$click=h,e})()})(),null),b((e=>{var n;const r=u(),o=(null==(n=d())?void 0:n.imgUrl)||$r,s=u();return r!==e._v$&&(t.disabled=e._v$=r),o!==e._v$2&&G(i,"src",e._v$2=o),s!==e._v$3&&(c.disabled=e._v$3=s),e}),{_v$:void 0,_v$2:void 0,_v$3:void 0}),b((()=>t.value=o())),e})()},jo=()=>(()=>{const e=Do(),t=e.firstChild,n=t.firstChild;return Q(n,H(W,{get when(){return!Ln.disableZaps},get children(){const e=Po(),t=e.firstChild,n=t.firstChild,r=t.nextSibling,i=r.firstChild;return G(n,"width",Rr),G(n,"height",Rr),Q(r,(()=>11*Dr()),i),e}}),null),Q(n,H(W,{get when(){return!Ln.disableLikes},get children(){const e=Ro(),t=e.firstChild,n=t.firstChild,r=t.nextSibling,i=r.firstChild;return G(n,"width",Rr),G(n,"height",Rr),Q(r,Dr,i),e}}),null),Q(t,H($o,{}),null),e})();Y(["click"]);const No=K('<div class="ztr-thread">'),qo=K('<li class="ztr-comment-action-zap"><a><svg viewBox="0 -2 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M18,11.74a1,1,0,0,0-.52-.63L14.09,9.43,15,3.14a1,1,0,0,0-1.78-.75l-7,9a1,1,0,0,0-.17.87,1,1,0,0,0,.59.67l4.27,1.71L10,20.86a1,1,0,0,0,.63,1.07A.92.92,0,0,0,11,22a1,1,0,0,0,.83-.45l6-9A1,1,0,0,0,18,11.74Z"></path></svg></a><span> sats'),Uo=K('<li class="ztr-comment-action-like"><a><svg viewBox="0 -16 180 180" xmlns="http://www.w3.org/2000/svg"><path d="M60.732 29.7C41.107 29.7 22 39.7 22 67.41c0 27.29 45.274 67.29 74 94.89 28.744-27.6 74-67.6 74-94.89 0-27.71-19.092-37.71-38.695-37.71C116 29.7 104.325 41.575 96 54.066 87.638 41.516 76 29.7 60.732 29.7z"></path></svg></a><span> likes'),Ho=K('<div class="ztr-comment"><div class="ztr-comment-text"><div class="ztr-comment-body"><span></span><ul class="ztr-comment-actions"><li class="ztr-comment-action-reply"><a><svg viewBox="0 -6 60 60" xmlns="http://www.w3.org/2000/svg"><path d="M 12.6030 50.4905 C 13.3758 50.4905 13.9307 50.1140 14.8621 49.2421 L 20.6483 43.8720 C 19.5188 42.9803 18.6073 41.5733 18.6073 38.3433 L 18.6073 25.2052 C 18.6073 19.1217 22.3129 15.5152 28.3766 15.5152 L 42.2479 15.5152 L 42.2281 14.7622 C 41.9306 10.6999 39.2557 8.0643 34.7177 8.0643 L 7.5301 8.0643 C 2.9922 8.0643 0 10.7791 0 15.4954 L 0 34.9548 C 0 39.6710 2.9922 42.7028 7.5301 42.7028 L 10.8195 42.7028 L 10.8195 48.4693 C 10.8195 49.6979 11.4735 50.4905 12.6030 50.4905 Z M 44.6058 53.2450 C 45.7353 53.2450 46.3895 52.4325 46.3895 51.2237 L 46.3895 45.4374 L 48.4702 45.4374 C 53.0078 45.4374 56 42.4056 56 37.7092 L 56 25.6610 C 56 20.9250 53.0078 18.2300 48.4702 18.2300 L 28.8522 18.2300 C 24.1161 18.2300 21.3221 20.9250 21.3221 25.6610 L 21.3221 37.7092 C 21.3221 42.4056 24.1161 45.4374 28.8522 45.4374 L 35.1735 45.4374 L 42.3470 51.9767 C 43.2784 52.8487 43.8331 53.2450 44.6058 53.2450 Z"></path></svg></a><span></span></li></ul></div></div><div class="ztr-comment-replies">'),Mo=K('<div class="ztr-comment-info"><div class="ztr-comment-info-picture"><img></div><ul class="ztr-comment-info-items"><li class="ztr-comment-info-item ztr-comment-info-author"><a target="_blank"></a></li><li class="ztr-comment-info-item ztr-comment-info-time"></li><li class="ztr-comment-info-item ztr-comment-info-replies">'),Vo=e=>(()=>{const t=No();return Q(t,H(V,{get each(){return Zo(e.nestedEvents())},children:e=>{const[t,n]=y(!1);return(()=>{const r=Ho(),i=r.firstChild,o=i.firstChild,s=o.firstChild,u=s.nextSibling,c=u.firstChild,l=c.firstChild,a=l.firstChild,f=l.nextSibling,d=i.nextSibling;return Q(i,H(Wo,{event:e}),o),Q(u,H(W,{get when(){return!Ln.disableZaps},get children(){const e=qo(),t=e.firstChild,n=t.firstChild,r=t.nextSibling,i=r.firstChild;return G(n,"width",Rr),G(n,"height",Rr),Q(r,(()=>11*Dr()),i),e}}),c),Q(u,H(W,{get when(){return!Ln.disableLikes},get children(){const e=Uo(),t=e.firstChild,n=t.firstChild,r=t.nextSibling,i=r.firstChild;return G(n,"width",Rr),G(n,"height",Rr),Q(r,Dr,i),e}}),c),l.$$click=()=>n(!t()),G(a,"width",Rr),G(a,"height",Rr),f.$$click=()=>n(!t()),Q(f,(()=>t()?"Cancel":"Reply")),Q(o,(()=>{const r=v((()=>!!t()));return()=>r()&&H($o,{get replyTo(){return e().id},onDone:()=>n(!1)})})(),null),Q(d,H(Vo,{nestedEvents:()=>e().children})),b((()=>s.innerHTML=Lr(e()))),r})()}})),t})(),Wo=e=>{const[t,n]=y($r),r=()=>e.event().pubkey,i=()=>Cr(r());let o;w((()=>{var e,t;Tn[e=r()]||(Tn[e]={timestamp:0,npub:i()});const o=null==(t=Tn[r()])?void 0:t.imgUrl;n(o||$r)}));const s=()=>(e=>{const t=new Date,n=Math.floor((t.getTime()-e)/1e3);if(n<60)return"now";if(n<3600){const e=Math.floor(n/60);return`${e} minute${1===e?"":"s"} ago`}if(n<=86400){const e=Math.floor(n/3600);return`${e} hour${1===e?"":"s"} ago`}if(n>86400){const n=new Date(e);return n.toLocaleDateString("en-us",{day:"numeric",month:"long"})+(n.getFullYear()===t.getFullYear()?"":" "+n.getFullYear())}return""})(1e3*e.event().created_at),[u,c]=y();return w((()=>{c(s()),o=setInterval((()=>{c(s())}),6e4)})),k((()=>clearInterval(o))),(()=>{const o=Mo(),s=o.firstChild,c=s.firstChild,l=s.nextSibling.firstChild,a=l.firstChild,f=l.nextSibling,d=f.nextSibling;return c.addEventListener("error",(()=>n($r))),G(c,"width",Rr),G(c,"height",Rr),Q(a,(()=>{var e;return(null==(e=Tn[r()])?void 0:e.name)||Pr(i())})),Q(f,u),Q(d,(()=>{const t=v((()=>1==jr(e.event())));return()=>t()?"1 reply":`${jr(e.event())} replies`})()),b((e=>{const n=t(),r="https://nostr.com/"+i();return n!==e._v$&&G(c,"src",e._v$=n),r!==e._v$2&&G(a,"href",e._v$2=r),e}),{_v$:void 0,_v$2:void 0}),o})()},Zo=e=>e.sort(((e,t)=>(e.created_at||0)>=(t.created_at||0)?-1:1));function Ko(e,t){if(e.ids&&-1===e.ids.indexOf(t.id)&&!e.ids.some((e=>t.id.startsWith(e))))return!1;if(e.kinds&&-1===e.kinds.indexOf(t.kind))return!1;if(e.authors&&-1===e.authors.indexOf(t.pubkey)&&!e.authors.some((e=>t.pubkey.startsWith(e))))return!1;for(let n in e)if("#"===n[0]){let r=e[`#${n.slice(1)}`];if(r&&!t.tags.find((([e,t])=>e===n.slice(1)&&-1!==r.indexOf(t))))return!1}return!(e.since&&t.created_at<e.since)&&!(e.until&&t.created_at>=e.until)}Y(["click"]);function Yo(e,t={}){let{listTimeout:n=3e3,getTimeout:r=3e3,countTimeout:i=3e3}=t;var o,s,u={},c={connect:[],disconnect:[],error:[],notice:[],auth:[]},l={},a={};async function f(){return s||(s=new Promise(((t,n)=>{try{o=new WebSocket(e)}catch(d){n(d)}o.onopen=()=>{c.connect.forEach((e=>e())),t()},o.onerror=()=>{s=void 0,c.error.forEach((e=>e())),n()},o.onclose=async()=>{s=void 0,c.disconnect.forEach((e=>e()))};let r,i=new Sr;function f(){var t,n,o;if(0===i.size)return clearInterval(r),void(r=null);var s=i.dequeue();if(!s)return;let f=function(e){let t=e.slice(0,22).indexOf('"EVENT"');if(-1===t)return null;let n=e.slice(t+7+1).indexOf('"');if(-1===n)return null;let r=t+7+1+n,i=e.slice(r+1,80).indexOf('"');if(-1===i)return null;let o=r+1+i;return e.slice(r+1,o)}(s);if(f){let t=u[f];if(t&&t.alreadyHaveEvent&&t.alreadyHaveEvent(function(e,t){let n=t.length+3,r=e.indexOf(`"${t}":`)+n,i=e.slice(r).indexOf('"')+r+1;return e.slice(i,i+64)}(s,"id"),e))return}try{let e=JSON.parse(s);switch(e[0]){case"EVENT":{let n=e[1],r=e[2];return void(Co(r)&&u[n]&&(u[n].skipVerification||function(e){try{return ko.verify(e.sig,zo(e),e.pubkey)}catch(d){return!1}}(r))&&function(e,t){for(let n=0;n<e.length;n++)if(Ko(e[n],t))return!0;return!1}(u[n].filters,r)&&(u[n],((null==(t=l[n])?void 0:t.event)||[]).forEach((e=>e(r)))))}case"COUNT":let r=e[1],i=e[2];return void(u[r]&&((null==(n=l[r])?void 0:n.count)||[]).forEach((e=>e(i))));case"EOSE":{let t=e[1];return void(t in l&&(l[t].eose.forEach((e=>e())),l[t].eose=[]))}case"OK":{let t=e[1],n=e[2],r=e[3]||"";return void(t in a&&(n?a[t].ok.forEach((e=>e())):a[t].failed.forEach((e=>e(r))),a[t].ok=[],a[t].failed=[]))}case"NOTICE":let s=e[1];return void c.notice.forEach((e=>e(s)));case"AUTH":{let t=e[1];return void(null==(o=c.auth)||o.forEach((e=>e(t))))}}}catch(d){return}}o.onmessage=e=>{i.enqueue(e.data),r||(r=setInterval(f,0))}})))}function d(){return 1===(null==o?void 0:o.readyState)}async function h(e){let t=JSON.stringify(e);if(d()||(await new Promise((e=>setTimeout(e,1e3))),d()))try{o.send(t)}catch(n){console.log(n)}}const p=(e,{verb:t="REQ",skipVerification:n=!1,alreadyHaveEvent:r=null,id:i=Math.random().toString().slice(2)}={})=>{let o=i;return u[o]={id:o,filters:e,skipVerification:n,alreadyHaveEvent:r},h([t,o,...e]),{sub:(t,i={})=>p(t||e,{skipVerification:i.skipVerification||n,alreadyHaveEvent:i.alreadyHaveEvent||r,id:o}),unsub:()=>{delete u[o],delete l[o],h(["CLOSE",o])},on:(e,t)=>{l[o]=l[o]||{event:[],count:[],eose:[]},l[o][e].push(t)},off:(e,t)=>{let n=l[o],r=n[e].indexOf(t);r>=0&&n[e].splice(r,1)}}};function g(e,t){if(!e.id)throw new Error(`event ${e} has no id`);let n=e.id;return h([t,e]),{on:(e,t)=>{a[n]=a[n]||{ok:[],failed:[]},a[n][e].push(t)},off:(e,t)=>{let r=a[n];if(!r)return;let i=r[e].indexOf(t);i>=0&&r[e].splice(i,1)}}}return{url:e,sub:p,on:(e,t)=>{c[e].push(t),"connect"===e&&1===(null==o?void 0:o.readyState)&&t()},off:(e,t)=>{let n=c[e].indexOf(t);-1!==n&&c[e].splice(n,1)},list:(e,t)=>new Promise((r=>{let i=p(e,t),o=[],s=setTimeout((()=>{i.unsub(),r(o)}),n);i.on("eose",(()=>{i.unsub(),clearTimeout(s),r(o)})),i.on("event",(e=>{o.push(e)}))})),get:(e,t)=>new Promise((n=>{let i=p([e],t),o=setTimeout((()=>{i.unsub(),n(null)}),r);i.on("event",(e=>{i.unsub(),clearTimeout(o),n(e)}))})),count:e=>new Promise((t=>{let n=p(e,{...p,verb:"COUNT"}),r=setTimeout((()=>{n.unsub(),t(null)}),i);n.on("count",(e=>{n.unsub(),clearTimeout(r),t(e)}))})),publish:e=>g(e,"EVENT"),auth:e=>g(e,"AUTH"),connect:async function(){d()||await f()},close(){c={connect:[],disconnect:[],error:[],notice:[],auth:[]},l={},a={},o.readyState===WebSocket.OPEN&&(null==o||o.close())},get status(){return(null==o?void 0:o.readyState)??3}}}class Go{constructor(e={}){t(this,"_conn"),t(this,"_seenOn",{}),t(this,"eoseSubTimeout"),t(this,"getTimeout"),this._conn={},this.eoseSubTimeout=e.eoseSubTimeout||3400,this.getTimeout=e.getTimeout||3400}close(e){e.forEach((e=>{let t=this._conn[Er(e)];t&&t.close()}))}async ensureRelay(e){const t=Er(e);this._conn[t]||(this._conn[t]=Yo(t,{getTimeout:.9*this.getTimeout,listTimeout:.9*this.getTimeout}));const n=this._conn[t];return await n.connect(),n}sub(e,t,n){let r=new Set,i={...n||{}};i.alreadyHaveEvent=(e,t)=>{var i;if(null==(i=null==n?void 0:n.alreadyHaveEvent)?void 0:i.call(n,e,t))return!0;let o=this._seenOn[e]||new Set;return o.add(t),this._seenOn[e]=o,r.has(e)};let o=[],s=new Set,u=new Set,c=e.length,l=!1,a=setTimeout((()=>{l=!0;for(let e of u.values())e()}),this.eoseSubTimeout);e.forEach((async e=>{let n;try{n=await this.ensureRelay(e)}catch(h){return void d()}if(!n)return;let f=n.sub(t,i);function d(){if(c--,0===c){clearTimeout(a);for(let e of u.values())e()}}f.on("event",(e=>{r.add(e.id);for(let t of s.values())t(e)})),f.on("eose",(()=>{l||d()})),o.push(f)}));let f={sub:(e,t)=>(o.forEach((n=>n.sub(e,t))),f),unsub(){o.forEach((e=>e.unsub()))},on(e,t){"event"===e?s.add(t):"eose"===e&&u.add(t)},off(e,t){"event"===e?s.delete(t):"eose"===e&&u.delete(t)}};return f}get(e,t,n){return new Promise((r=>{let i=this.sub(e,[t],n),o=setTimeout((()=>{i.unsub(),r(null)}),this.getTimeout);i.on("event",(e=>{r(e),clearTimeout(o),i.unsub()}))}))}list(e,t,n){return new Promise((r=>{let i=[],o=this.sub(e,t,n);o.on("event",(e=>{i.push(e)})),o.on("eose",(()=>{o.unsub(),r(i)}))}))}publish(e,t){const n=e.map((async e=>{let n;try{return n=await this.ensureRelay(e),n.publish(t)}catch(r){return{on(){},off(){}}}})),r=new Map;return{on(t,i){e.forEach((async(e,o)=>{let s=await n[o],u=()=>i(e);r.set(i,u),s.on(t,u)}))},off(t,i){e.forEach((async(e,o)=>{let s=r.get(i);if(s){(await n[o]).off(t,s)}}))}}}seenOn(e){var t,n;return Array.from((null==(n=null==(t=this._seenOn[e])?void 0:t.values)?void 0:n.call(t))||[])}}const Qo=K('<h2 id="ztr-title"> comments'),Jo=K('<h3 id="ztr-subtitle">2397 sats'),Xo=K('<div id="ztr-root"><style>');function es(e){if(!["http","naddr","note","nevent"].some((t=>e.anchor.startsWith(t))))throw"Only NIP-19 naddr, note and nevent encoded entities and URLs are supported";Ln.disableLikes=e.disableLikes||!1,Ln.disableZaps=e.disableZaps||!1,Ln.disablePublish=e.disablePublish||!1;const[t,n]=y(),r=()=>e.pubkey,i=new Go,o=()=>e.relays.length>0?e.relays:["wss://relay.damus.io","wss://eden.nostr.land"];var s;s=async()=>{try{if(e.anchor.startsWith("http")){const t=(await i.list(o(),[{"#r":[e.anchor],kinds:[1]}])).map((e=>e.id));n({"#e":t})}else n((e=>{const t=zr(e);switch(t.type){case"nevent":return{"#e":[t.data.id]};case"note":return{"#e":[t.data]};case"naddr":return{"#a":[`${t.data.kind}:${t.data.pubkey}:${t.data.identifier}`]};default:return{}}})(e.anchor));const r=i.sub(o(),[{...t(),kinds:[1]}]);r.on("event",(e=>{e.content&&(On[e.id]=e)})),k((()=>null==r?void 0:r.unsub()))}catch(r){console.log(r)}},w((()=>E(s)));const u=ie((e=>re(e,16))),c=v(((e=[])=>u()&&Object.keys(On).length>0?Object.values(On):e)),l=()=>Nr(c()),a=ie((e=>re(e,700)));return w((async()=>{if(a()&&Object.keys(On).length>0){const e=Object.values(On).map((e=>e.pubkey)),t=await i.list(o(),[{kinds:[0],authors:[...new Set(e)]}]);Or(t)}})),(()=>{const e=Xo();return Q(e.firstChild,':root {\n  --ztr-font: -apple-system, "BlinkMacSystemFont", "Segoe UI", "Helvetica Neue", Arial, "Noto Sans", "Liberation Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";\n  --ztr-font-size: 16px;\n  --ztr-text-color: #2B2B2B;\n  --ztr-textarea-color: #2B2B2B;\n  --ztr-icon-color: #656565;\n  --ztr-link-color:  #92379c;\n  --ztr-login-button-color: #92379c;\n  --ztr-background-color: rgba(0, 0, 0, 0.03);\n}\n\n/****/\n\n#ztr-root {\n  font-family: var(--ztr-font);\n  font-size: var(--ztr-font-size);\n  color: var(--ztr-text-color);\n  line-height: 19px;\n  border: 1px solid transparent; /* Removes margin collapse */\n}\n\n#ztr-root {\n  margin-top: 3rem;\n}\n\n#ztr-subtitle {\n  font-size: 1.2rem;\n  color: #666;\n}\n\n/* Comment */\n\n.ztr-comment {\n  position: relative;\n  margin: 0rem;\n  padding: 0rem;\n  background-color: var(--ztr-background-color, rgba(0, 0, 0, 0.03));\n}\n\n.ztr-comment-text {\n  line-break: loose;\n  word-break: break-word;\n  padding: 1rem;\n}\n\n.ztr-comment-text pre {\n  white-space: pre-wrap;\n  white-space: -moz-pre-wrap;\n}\n\n.ztr-comment:first-child {\n  border-top-left-radius: 8px;\n  border-top-right-radius: 8px;\n}\n\n.ztr-comment:last-child {\n  border-bottom-left-radius: 8px;\n  border-bottom-right-radius: 8px;\n}\n\n.ztr-comment-info {\n  display: flex;\n  align-items: center;\n}\n\n.ztr-comment-info-picture {\n  width: 4rem;\n}\n\nul.ztr-comment-info-items {\n  display: flex;\n  align-items: center;\n  list-style: none;\n  margin: 0;\n  padding: 0;\n  font-size: 0.95rem;\n}\n\nul.ztr-comment-info-items li {\n  display: inline-block;\n  text-align: center;\n  cursor: default;\n}\n\nul.ztr-comment-info-items li:not(:first-child)::before {\n  padding: 0 0.2rem 0 0.35rem;\n  content: " • ";\n}\n\nul.ztr-comment-info-items li a {\n  color: var(--ztr-link-color, #2B2B2B);\n  text-decoration: none;\n  font-weight: 600;\n}\n\n.ztr-comment-info-picture img {\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  padding: 0.5rem;\n  position: relative;\n  display: block;\n  object-fit: cover;\n}\n\n.ztr-comment-body {\n  margin-top: -1rem;\n  padding-left: 4rem;\n}\n\n.ztr-comment-body a {\n  color: var(--ztr-link-color, #2B2B2B);\n}\n\n.ztr-comment-replies {\n  margin-left: 2em;\n}\n\n/* Styling the reply to comment form */\n\nul.ztr-comment-actions {\n  display: flex;\n  align-items: center;\n  list-style: none;\n  margin: 0;\n  padding: 0;\n  font-size: 0.9rem;\n  font-weight: 600;\n  user-select: none;\n}\n\nul.ztr-comment-actions li {\n  display: inline-flex;\n  align-items: center;\n  text-align: center;\n  padding: 0 2rem 0 0;\n  cursor: default;\n}\n\nul.ztr-comment-actions li a {\n  cursor: pointer;\n  padding: 0 0.25rem 0 0;\n}\n\nul.ztr-comment-actions li span {\n  padding: 0;\n}\n\n.ztr-comment-actions svg {\n  fill: var(--ztr-icon-color);\n}\n\n.ztr-comment-action-zap svg:hover {\n  fill: #ffd53d;\n  stroke: #b2ac68;\n  stroke-width: 1px;\n}\n\n.ztr-comment-action-like svg:hover {\n  fill: #e74c4c;\n}\n\n.ztr-comment-action-reply svg:hover {\n  fill: #b65bf3;\n}\n\n.ztr-reply-form {\n  padding-right: 0.5rem;\n}\n\n.ztr-reply-form textarea {\n  font-family: var(--ztr-font);\n  font-size: 16px;\n  color: var(--ztr-textarea-color, #2B2B2B);\n  line-height: 19px;\n\n  background-color: #fdfdfd;\n  border: 1px solid #BBB;\n  outline: none;\n  width: calc(100% - 1.5rem);\n  padding: 0.7rem;\n  margin: 0.5rem 0;\n  height: 4rem;\n  border-radius: 4px;\n  resize: none;\n}\n\n.ztr-reply-form:disabled {\n  opacity: 65%;\n  user-select: none;\n}\n\n.ztr-reply-error {\n  font-weight: bold;\n  font-size: 0.85rem;\n  margin-right: 1rem;\n  user-select: none;\n  cursor: default;\n}\n\n.ztr-reply-controls {\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n}\n\n.ztr-reply-controls .ztr-comment-info-picture {\n  width: 3rem;\n}\n\n.ztr-reply-controls .ztr-comment-info-picture img {\n  width: 30px;\n  height: 30px;\n}\n\n.ztr-reply-controls button {\n  font-family: var(--ztr-font);\n  appearance: none;\n  border: none;\n  padding: 0.5rem 1rem;\n  border-radius: 4px;\n  font-size: 0.85rem;\n  font-weight: 600;\n  cursor: pointer;\n}\n\n.ztr-reply-login-button {\n  margin-left: 1rem;\n  background-color: var(--ztr-login-button-color);\n  color: white;\n}\n\n.ztr-reply-button {\n  color: var(--ztr-text-color);\n  background-color: var(--ztr-background-color);\n  display: flex;\n  align-items: center;\n}\n\n.ztr-spinner {\n  width: var(--ztr-font-size);\n  height: var(--ztr-font-size);\n  margin-right: 1rem;\n  animation: rotate 4s linear infinite;\n}\n\n.ztr-reply-button:disabled {\n  opacity: 65%;\n  pointer-events: none;\n  cursor: pointer;\n  user-select: none;\n}\n\n.ztr-spinner .path {\n  stroke: var(--ztr-text-color);\n  stroke-linecap: round;\n  animation: dash 1.5s ease-in-out infinite;\n}\n\n@keyframes rotate {\n  100% {\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes dash {\n  0% {\n    stroke-dasharray: 1, 150;\n    stroke-dashoffset: 0;\n  }\n  50% {\n    stroke-dasharray: 90, 150;\n    stroke-dashoffset: -35;\n  }\n  100% {\n    stroke-dasharray: 90, 150;\n    stroke-dashoffset: -124;\n  }\n}\n\n/* new */\n\n.ztr-comment-new .ztr-reply-form {\n  margin-top: 0.5rem;\n}\n\n.ztr-comment-new .ztr-comment-body {\n  padding: 0;\n}\n\n.ztr-comment-new .ztr-comment-actions {\n  font-size: 1.1rem;\n}'),Q(e,H(Pn.Provider,{value:{pool:i,relays:o,filter:t,pubkey:r},get children(){return[H(jo,{}),(()=>{const e=Qo();return Q(e,(()=>Object.keys(On).length),e.firstChild),e})(),H(W,{get when(){return!Ln.disableZaps},get children(){return Jo()}}),H(Vo,{nestedEvents:l})]}}),null),e})()}return function(e,t,n){2===arguments.length&&(n=t,t={}),fe(e,t)(de(n))}("zap-threads",{relays:"",anchor:"","disable-likes":"","disable-zaps":"","disable-publish":"",pubkey:""},(e=>H(es,{get anchor(){return e.anchor},relays:""===e.relays?[]:e.relays.split(","),get pubkey(){return e.pubkey},get disableLikes(){return"true"===e["disable-likes"]},get disableZaps(){return"true"===e["disable-zaps"]},get disablePublish(){return"true"===e["disable-publish"]}}))),es}();
